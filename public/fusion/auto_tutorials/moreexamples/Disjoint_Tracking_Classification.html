<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Disjoint Tracking and Classification &mdash; SMART FUSION 0.1b11.dev6+g9121db30.d20220926 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Multi-Target Tracking in 3D Using Platform Simulation" href="MTT_3D_Platform.html" />
    <link rel="prev" title="Creating an Actionable Sensor Example" href="Creating_Actionable_Sensor.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> SMART FUSION
            <img src="../../_static/smart_fusion_logo.jpeg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1b11.dev6+g9121db30.d20220926
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../design.html">Framework </a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#fundamentals">Fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#more-examples">More Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#sensor-management">Sensor Management</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#state-estimation">State Estimation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../fundamentals/index.html">Fundamentals</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">More Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Classifying_Using_HMM.html">Classification Using Hidden Markov Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="Creating_Actionable_Sensor.html">Creating an Actionable Sensor Example</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Disjoint Tracking and Classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="MTT_3D_Platform.html">Multi-Target Tracking in 3D Using Platform Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Metrics.html">Metrics Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Moving_Platform_Simulation.html">Multi-Sensor Moving Platform Simulation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="ParticleFlow.html">Gromov Particle Flow Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="Sensor_Platform_Simulation.html">Sensor Platform Simulation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Smooth_Platform_Coordinate_Transitions.html">Creating Smooth Transitions Between Coordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="Track2Track_Fusion_Example.html">Multi-Sensor Fusion: Covariance Intersection Using Tracks as Measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="range_range_rate_binning.html">RangeRangeRateBinning measurement model example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sensormanagement/index.html">Sensor Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateestimation/index.html">State Estimation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../smartfusion.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_demos/index.html">Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright &amp; License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SMART FUSION</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
          <li><a href="index.html">More Examples</a> &raquo;</li>
      <li>Disjoint Tracking and Classification</li>
  
    
    
      
    
  
  <li class="wy-breadcrumbs-aside">
    <a href="https://github.com/claycurry34/Smart-Fusion/blob/main/docs/source/../tutorials/moreexamples/Disjoint_Tracking_Classification.py" class="fa fa-github"> Edit on GitHub</a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-tutorials-moreexamples-disjoint-tracking-classification-py"><span class="std std-ref">here</span></a>
to download the full example code or to run this example in your browser via Binder</p>
</div>
<section class="sphx-glr-example-title" id="disjoint-tracking-and-classification">
<span id="sphx-glr-auto-tutorials-moreexamples-disjoint-tracking-classification-py"></span><h1>Disjoint Tracking and Classification<a class="headerlink" href="#disjoint-tracking-and-classification" title="Permalink to this heading"></a></h1>
<p>This is a demonstration of a utilisation of the implemented Hidden Markov model and composite
tracking modules in order to categorise a target as well as track its kinematics.</p>
<p>All non-generic imports will be given in order of usage.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">timedelta</span></a>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">smartfusion.models.transition.linear</span> <span class="kn">import</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">,</span> \
    <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.groundtruth</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a>
</pre></div>
</div>
<section id="ground-truth-categorical-and-composite-states">
<h2>Ground Truth, Categorical and Composite States<a class="headerlink" href="#ground-truth-categorical-and-composite-states" title="Permalink to this heading"></a></h2>
<p>We will attempt to track and classify 3 targets.</p>
<section id="true-kinematics">
<h3>True Kinematics<a class="headerlink" href="#true-kinematics" title="Permalink to this heading"></a></h3>
<p>They will move in random directions from defined starting points.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start</span></a> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_state1</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start</span></a><span class="p">)</span>  <span class="c1"># x, vx, y, vy</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_state2</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start</span></a><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_state3</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start</span></a><span class="p">)</span>

<a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_transition</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">([</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.1</span><span class="p">),</span>
                                                              <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.1</span><span class="p">)])</span>
</pre></div>
</div>
</section>
<section id="true-classifications">
<h3>True Classifications<a class="headerlink" href="#true-classifications" title="Permalink to this heading"></a></h3>
<p>A target may take one of three discrete hidden classes: ‘bike’, ‘car’ and ‘bus’.
It will be assumed that the targets cannot transition from one class to another, hence an
identity transition matrix is given to the <a class="reference internal" href="../../smartfusion.models.transition.html#smartfusion.models.transition.categorical.MarkovianTransitionModel" title="smartfusion.models.transition.categorical.MarkovianTransitionModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkovianTransitionModel</span></code></a> for all targets.</p>
<p>A <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalState</span></code></a> class is used to store information on the classification/’category’
of the targets. The state vector of each will define a categorical distribution over the 3
possible classes, whereby each component defines the probability that the target is of the
corresponding class. For example, the state vector (0.2, 0.3, 0.5), with category names
(‘bike’, ‘car’, ‘bus’) indicates that the target has a 20% probability of being class
‘bike’, a 30% probability of being class ‘car’ etc.
It does not make sense to have a true target being a distribution over the possible classes, and
therefore the true categorical states will have binary state vectors indicating a specific class
for each target (i.e. a ‘1’ at one state vector index, and ‘0’s elsewhere).
The <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalGroundTruthState</span></code></a> inherits directly from the base
<a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalState</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.types.groundtruth</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CategoricalGroundTruthState</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.models.transition.categorical</span> <span class="kn">import</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.categorical.MarkovianTransitionModel" title="smartfusion.models.transition.categorical.MarkovianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-categorical sphx-glr-backref-type-py-class"><span class="n">MarkovianTransitionModel</span></a>

<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hidden_classes</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bike&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">,</span> <span class="s1">&#39;bus&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gt_kwargs</span></a> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start</span></a><span class="p">,</span> <span class="s1">&#39;categories&#39;</span><span class="p">:</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hidden_classes</span></a><span class="p">}</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_state1</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CategoricalGroundTruthState</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="o">**</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gt_kwargs</span></a><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_state2</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CategoricalGroundTruthState</span></a><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="o">**</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gt_kwargs</span></a><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_state3</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CategoricalGroundTruthState</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="o">**</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gt_kwargs</span></a><span class="p">)</span>

<a href="../../smartfusion.models.transition.html#smartfusion.models.transition.categorical.MarkovianTransitionModel" title="smartfusion.models.transition.categorical.MarkovianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_transition</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.categorical.MarkovianTransitionModel" title="smartfusion.models.transition.categorical.MarkovianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-categorical sphx-glr-backref-type-py-class"><span class="n">MarkovianTransitionModel</span></a><span class="p">(</span><span class="n">transition_matrix</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.eye.html#numpy.eye" title="numpy.eye" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">eye</span></a><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="composite-states">
<h3>Composite States<a class="headerlink" href="#composite-states" title="Permalink to this heading"></a></h3>
<p>Each target will have kinematics and a category to be inferred. These are contained within a
<a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.state.CompositeState" title="smartfusion.types.state.CompositeState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeState</span></code></a> type (in this instance the child class
<a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeGroundTruthState</span></code></a>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.types.groundtruth</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CompositeGroundTruthState</span></a>

<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state1</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CompositeGroundTruthState</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_state1</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_state1</span></a><span class="p">])</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state2</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CompositeGroundTruthState</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_state2</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_state2</span></a><span class="p">])</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state3</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CompositeGroundTruthState</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_state3</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_state3</span></a><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="generating-ground-truth-paths">
<h3>Generating Ground Truth Paths<a class="headerlink" href="#generating-ground-truth-paths" title="Permalink to this heading"></a></h3>
<p>Both the physical and categorical states of the targets need to be transitioned. While the
category will remain the same, a transition model is used here for the sake of demonstration.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.types.groundtruth</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthPath</span></a>

<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT1</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthPath</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state1</span></a><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;GT1&#39;</span><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT2</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthPath</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state2</span></a><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;GT2&#39;</span><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT3</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthPath</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state3</span></a><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;GT3&#39;</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ground_truth_paths</span></a> <span class="o">=</span> <span class="p">[</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT1</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT2</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT3</span></a><span class="p">]</span>

<span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ground_truth_paths</span></a><span class="p">:</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">i</span></a> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_sv</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel.function" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel.function" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-method"><span class="n">kinematic_transition</span><span class="o">.</span><span class="n">function</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                                     <span class="n">noise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                     <span class="n">time_interval</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
        <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_sv</span></a><span class="p">,</span>
                                     <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a> <span class="o">+</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

        <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_sv</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.categorical.MarkovianTransitionModel.function" title="smartfusion.models.transition.categorical.MarkovianTransitionModel.function" class="sphx-glr-backref-module-smartfusion-models-transition-categorical sphx-glr-backref-type-py-method"><span class="n">category_transition</span><span class="o">.</span><span class="n">function</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
                                                   <span class="n">noise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                   <span class="n">time_interval</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
        <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CategoricalGroundTruthState</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_sv</span></a><span class="p">,</span>
                                               <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a> <span class="o">+</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                                               <span class="n">categories</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hidden_classes</span></a><span class="p">)</span>

        <a href="../../smartfusion.types.html#smartfusion.types.state.StateMutableSequence.append" title="smartfusion.types.state.StateMutableSequence.append" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-method"><span class="n">GT</span><span class="o">.</span><span class="n">append</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CompositeGroundTruthState</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category</span></a><span class="p">]))</span>

<span class="c1"># Printing GT1</span>
<span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT1</span></a><span class="p">:</span>
    <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">vector</span></a> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">np</span><span class="o">.</span><span class="n">double</span></a><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%25s</span><span class="s2">&quot;</span> <span class="o">%</span> <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">vector</span></a><span class="p">,</span> <span class="s1">&#39; -- &#39;</span><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category</span></a><span class="p">,</span> <span class="s1">&#39; -- &#39;</span><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>        [0. 1. 0. 1.]  --  bus  --  2022-09-26 17:25:33.670588
[0.72 0.54 1.02 0.94]  --  bus  --  2022-09-26 17:25:34.670588
[1.14 0.54 2.09 0.95]  --  bus  --  2022-09-26 17:25:35.670588
[1.87 0.92 3.17 1.12]  --  bus  --  2022-09-26 17:25:36.670588
[2.72 0.66 3.84 0.43]  --  bus  --  2022-09-26 17:25:37.670588
[3.27 0.59 4.35 0.51]  --  bus  --  2022-09-26 17:25:38.670588
[3.99 0.56 4.81 0.11]  --  bus  --  2022-09-26 17:25:39.670588
[4.54 0.62 5.46 1.1 ]  --  bus  --  2022-09-26 17:25:40.670588
[5.13 0.61 6.32 0.66]  --  bus  --  2022-09-26 17:25:41.670588
[5.81 0.74 7.36 1.37]  --  bus  --  2022-09-26 17:25:42.670588
[6.63 0.71 9.   1.62]  --  bus  --  2022-09-26 17:25:43.670588
</pre></div>
</div>
</section>
<section id="plotting-ground-truths">
<h3>Plotting Ground Truths<a class="headerlink" href="#plotting-ground-truths" title="Permalink to this heading"></a></h3>
<p>Colour will be used in plotting as an indicator to category: red == ‘bike’, green == ‘car’,
blue == ‘bus’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.set_figheight" title="matplotlib.figure.Figure.set_figheight" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig</span><span class="o">.</span><span class="n">set_figheight</span></a><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.set_figwidth" title="matplotlib.figure.Figure.set_figwidth" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig</span><span class="o">.</span><span class="n">set_figwidth</span></a><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplots_adjust" title="matplotlib.figure.Figure.subplots_adjust" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span></a><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.tight_layout" title="matplotlib.figure.Figure.tight_layout" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span></a><span class="p">()</span>

<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">:</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_aspect.html#matplotlib.axes.Axes.set_aspect" title="matplotlib.axes.Axes.set_aspect" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span></a><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="s1">&#39;box&#39;</span><span class="p">)</span>

<span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ground_truth_paths</span></a><span class="p">:</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">X</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Y</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">col</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span><span class="p">)</span>
    <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a><span class="p">:</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pos</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">X</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pos</span></a><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Y</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pos</span></a><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">X</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Y</span></a><span class="p">,</span> <span class="n">color</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">col</span></a><span class="p">,</span> <span class="n">label</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT</span></a><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category</span></a><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc</span></a><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;GT&#39;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">set_axes_limits</span><span class="p">():</span>
    <span class="n">xmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.get_xlim.html#matplotlib.axes.Axes.get_xlim" title="matplotlib.axes.Axes.get_xlim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span></a><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">)</span>
    <span class="n">ymax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.get_ylim.html#matplotlib.axes.Axes.get_ylim" title="matplotlib.axes.Axes.get_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span></a><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">)</span>
    <span class="n">xmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.get_xlim.html#matplotlib.axes.Axes.get_xlim" title="matplotlib.axes.Axes.get_xlim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span></a><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">)</span>
    <span class="n">ymin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.get_ylim.html#matplotlib.axes.Axes.get_ylim" title="matplotlib.axes.Axes.get_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span></a><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">)</span>
    <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">:</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html#matplotlib.axes.Axes.set_xlim" title="matplotlib.axes.Axes.set_xlim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span></a><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">)</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="matplotlib.axes.Axes.set_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span></a><span class="p">(</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">)</span>


<span class="n">set_axes_limits</span><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Disjoint_Tracking_Classification_001.png" srcset="../../_images/sphx_glr_Disjoint_Tracking_Classification_001.png" alt="GT" class = "sphx-glr-single-img"/></section>
</section>
<section id="measurement">
<h2>Measurement<a class="headerlink" href="#measurement" title="Permalink to this heading"></a></h2>
<p>A new sensor will be created, that can provide the information needed to both track and classify
the targets.</p>
<section id="composite-detection">
<h3>Composite Detection<a class="headerlink" href="#composite-detection" title="Permalink to this heading"></a></h3>
<p>Detections relating to both the kinematics and classification will be needed. Therefore we will
create a sensor that outputs <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeDetection</span></code></a> types. The input <cite>sensors</cite> list will
provide the contents of these compositions. For this example we will provide a
<a class="reference internal" href="../../smartfusion.sensor.radar.html#smartfusion.sensor.radar.radar.RadarBearingRange" title="smartfusion.sensor.radar.radar.RadarBearingRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">RadarBearingRange</span></code></a> and a <a class="reference internal" href="../../smartfusion.sensor.html#smartfusion.sensor.categorical.HMMSensor" title="smartfusion.sensor.categorical.HMMSensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMMSensor</span></code></a> for kinematics and classification
respectively.
<a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeDetection</span></code></a> types have a <cite>mapping</cite> attribute, which defines what sub-state
index each sub-detection was created from. For example, with a composite state of form:
(kinematic state, categorical state), and composite detection with mapping (1, 0), this would
indicate that the 0th index sub-detection was attained from the categorical state, and the 1st
index sub-detection from the kinematic state.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <a href="https://docs.python.org/3/library/typing.html#typing.Set" title="typing.Set" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Set</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/typing.html#typing.Union" title="typing.Union" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-data"><span class="n">Union</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="typing.Sequence" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Sequence</span></a>

<span class="kn">from</span> <span class="nn">smartfusion.base</span> <span class="kn">import</span> <a href="../../smartfusion.base.html#smartfusion.base.Property" title="smartfusion.base.Property" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">Property</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.sensor.sensor</span> <span class="kn">import</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">Sensor</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.detection</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class"><span class="n">CompositeDetection</span></a>


<span class="k">class</span> <span class="nc">CompositeSensor</span><span class="p">(</span><a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">Sensor</span></a><span class="p">):</span>
    <span class="n">sensors</span><span class="p">:</span> <a href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="typing.Sequence" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Sequence</span></a><span class="p">[</span><a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">Sensor</span></a><span class="p">]</span> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Property" title="smartfusion.base.Property" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">Property</span></a><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;A list of sensors.&quot;</span><span class="p">)</span>
    <span class="n">mapping</span><span class="p">:</span> <a href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="typing.Sequence" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Sequence</span></a> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Property" title="smartfusion.base.Property" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">Property</span></a><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                 <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Mapping of which component states in the composite truth &quot;</span>
                                     <span class="s2">&quot;state is measured.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.arange.html#numpy.arange" title="numpy.arange" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">arange</span></a><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensors</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">measure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ground_truths</span><span class="p">:</span> <a href="https://docs.python.org/3/library/typing.html#typing.Set" title="typing.Set" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Set</span></a><span class="p">[</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">CompositeGroundTruthState</span></a><span class="p">],</span>
                <span class="n">noise</span><span class="p">:</span> <a href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="typing.Sequence" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Sequence</span></a><span class="p">[</span><a href="https://docs.python.org/3/library/typing.html#typing.Union" title="typing.Union" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-data"><span class="n">Union</span></a><span class="p">[</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <a href="https://docs.python.org/3/library/typing.html#typing.Set" title="typing.Set" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Set</span></a><span class="p">[</span><a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class"><span class="n">CompositeDetection</span></a><span class="p">]:</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">noise</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">noise</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">noise</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensors</span><span class="p">)</span> <span class="o">*</span> <span class="p">[</span><span class="n">noise</span><span class="p">]</span>

        <span class="n">detections</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">truth</span> <span class="ow">in</span> <span class="n">ground_truths</span><span class="p">:</span>

            <span class="n">sub_detections</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

            <span class="n">states</span> <span class="o">=</span> <span class="p">[</span><span class="n">truth</span><span class="o">.</span><span class="n">sub_states</span><span class="p">[</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">i</span></a><span class="p">]</span> <span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">i</span></a> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="p">]</span>

            <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">,</span> <span class="n">sub_sensor</span><span class="p">,</span> <span class="n">sub_noise</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">states</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sensors</span><span class="p">,</span> <span class="n">noise</span><span class="p">):</span>
                <span class="n">sub_detection</span> <span class="o">=</span> <span class="n">sub_sensor</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span>
                    <span class="n">ground_truths</span><span class="o">=</span><span class="p">{</span><a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">},</span>
                    <span class="n">noise</span><span class="o">=</span><span class="n">sub_noise</span>
                <span class="p">)</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>  <span class="c1"># sub-sensor returns a set</span>
                <span class="n">sub_detections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sub_detection</span><span class="p">)</span>

            <span class="n">detection</span> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class"><span class="n">CompositeDetection</span></a><span class="p">(</span><span class="n">sub_states</span><span class="o">=</span><span class="n">sub_detections</span><span class="p">,</span>
                                           <span class="n">groundtruth_path</span><span class="o">=</span><span class="n">truth</span><span class="p">,</span>
                                           <span class="n">mapping</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="p">)</span>
            <span class="n">detections</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">detection</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">detections</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">measurement_model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>
</div>
</section>
<section id="kinematic-measurement">
<h3>Kinematic Measurement<a class="headerlink" href="#kinematic-measurement" title="Permalink to this heading"></a></h3>
<p>Measurements of the target’s kinematics will be attained via a <a class="reference internal" href="../../smartfusion.sensor.radar.html#smartfusion.sensor.radar.radar.RadarBearingRange" title="smartfusion.sensor.radar.radar.RadarBearingRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">RadarBearingRange</span></code></a>
sensor model.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.sensor.radar.radar</span> <span class="kn">import</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">RadarBearingRange</span></a>

<span class="n">radar</span> <span class="o">=</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">RadarBearingRange</span></a><span class="p">(</span><span class="n">ndim_state</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                          <span class="n">position_mapping</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                          <span class="n">noise_covar</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">radians</span></a><span class="p">(</span><span class="mf">0.05</span><span class="p">),</span> <span class="mf">0.1</span><span class="p">]))</span>
</pre></div>
</div>
</section>
<section id="categorical-measurement">
<h3>Categorical Measurement<a class="headerlink" href="#categorical-measurement" title="Permalink to this heading"></a></h3>
<p>Using the hidden Markov model, it is assumed the hidden class of the target cannot be directly
observed, and instead indirect observations are taken. In this instance, observations of the
target’s size are taken (‘small’ or ‘large’), which have direct implications as to the target’s
hidden class, and this relationship is modelled by the <cite>emission matrix</cite> of the
<a class="reference internal" href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.categorical.MarkovianMeasurementModel" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkovianMeasurementModel</span></code></a>, which is used by the <a class="reference internal" href="../../smartfusion.sensor.html#smartfusion.sensor.categorical.HMMSensor" title="smartfusion.sensor.categorical.HMMSensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMMSensor</span></code></a> to
provide <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.detection.CategoricalDetection" title="smartfusion.types.detection.CategoricalDetection"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalDetection</span></code></a> types.
We will model this such that a ‘bike’ has a very small chance of being observed as a ‘big’
target. Similarly, a ‘bus’ will tend to appear as ‘large’. Whereas, a ‘car’ has equal chance of
being observed as either.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.models.measurement.categorical</span> <span class="kn">import</span> <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.categorical.MarkovianMeasurementModel" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel" class="sphx-glr-backref-module-smartfusion-models-measurement-categorical sphx-glr-backref-type-py-class"><span class="n">MarkovianMeasurementModel</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.sensor.categorical</span> <span class="kn">import</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.categorical.HMMSensor" title="smartfusion.sensor.categorical.HMMSensor" class="sphx-glr-backref-module-smartfusion-sensor-categorical sphx-glr-backref-type-py-class"><span class="n">HMMSensor</span></a>

<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">E</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">([[</span><span class="mf">0.99</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span>  <span class="c1"># P(small | bike), P(small | car), P(small | bus</span>
              <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">]])</span>
<a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.categorical.MarkovianMeasurementModel" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel" class="sphx-glr-backref-module-smartfusion-models-measurement-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.categorical.MarkovianMeasurementModel" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel" class="sphx-glr-backref-module-smartfusion-models-measurement-categorical sphx-glr-backref-type-py-class"><span class="n">MarkovianMeasurementModel</span></a><span class="p">(</span><span class="n">emission_matrix</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">E</span></a><span class="p">,</span>
                                  <span class="n">measurement_categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;small&#39;</span><span class="p">,</span> <span class="s1">&#39;large&#39;</span><span class="p">])</span>

<a href="../../smartfusion.sensor.html#smartfusion.sensor.categorical.HMMSensor" title="smartfusion.sensor.categorical.HMMSensor" class="sphx-glr-backref-module-smartfusion-sensor-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">eo</span></a> <span class="o">=</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.categorical.HMMSensor" title="smartfusion.sensor.categorical.HMMSensor" class="sphx-glr-backref-module-smartfusion-sensor-categorical sphx-glr-backref-type-py-class"><span class="n">HMMSensor</span></a><span class="p">(</span><span class="n">measurement_model</span><span class="o">=</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.categorical.MarkovianMeasurementModel" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel" class="sphx-glr-backref-module-smartfusion-models-measurement-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">model</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="composite-sensor">
<h3>Composite Sensor<a class="headerlink" href="#composite-sensor" title="Permalink to this heading"></a></h3>
<p>Creating the composite sensor class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sensor</span> <span class="o">=</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">CompositeSensor</span></a><span class="p">(</span><span class="n">sensors</span><span class="o">=</span><span class="p">[</span><a href="../../smartfusion.sensor.html#smartfusion.sensor.categorical.HMMSensor" title="smartfusion.sensor.categorical.HMMSensor" class="sphx-glr-backref-module-smartfusion-sensor-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">eo</span></a><span class="p">,</span> <span class="n">radar</span><span class="p">],</span> <span class="n">mapping</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="generating-measurements">
<h3>Generating Measurements<a class="headerlink" href="#generating-measurements" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">all_measurements</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

<span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gts1</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gts2</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gts3</span></a> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT1</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT2</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">GT3</span></a><span class="p">):</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements_at_time</span></a> <span class="o">=</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor.measure" title="smartfusion.sensor.sensor.Sensor.measure" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-method"><span class="n">sensor</span><span class="o">.</span><span class="n">measure</span></a><span class="p">({</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gts1</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gts2</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gts3</span></a><span class="p">})</span>
    <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CompositeGroundTruthState" title="smartfusion.types.groundtruth.CompositeGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gts1</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">all_measurements</span></a><span class="o">.</span><span class="n">append</span><span class="p">((</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements_at_time</span></a><span class="p">))</span>

<span class="c1"># Printing some measurements</span>
<span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">i</span></a><span class="p">,</span> <span class="p">(</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements_at_time</span></a><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">all_measurements</span></a><span class="p">):</span>
    <span class="k">if</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">i</span></a> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="si">:</span><span class="s2">%H:%M:%S</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements_at_time</span></a><span class="p">:</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">vector</span></a> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.state.CompositeState.state_vector" title="smartfusion.types.state.CompositeState.state_vector" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-property"><span class="n">measurement</span><span class="o">.</span><span class="n">state_vector</span><span class="o">.</span><span class="n">flatten</span></a><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">np</span><span class="o">.</span><span class="n">double</span></a><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%25s</span><span class="s2">&quot;</span> <span class="o">%</span> <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">vector</span></a><span class="p">,</span> <span class="s1">&#39; -- &#39;</span><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>17:25:33
[ 1.    0.    0.01 -2.56]  --  small
    [0.   1.   0.04 0.04]  --  large
[ 1.    0.    0.4  -1.45]  --  small
17:25:34
    [0.   1.   0.93 1.23]  --  large
[ 0.    1.    0.57 -1.61]  --  large
    [1.   0.   0.07 2.75]  --  small
17:25:35
    [0.   1.   1.02 2.33]  --  large
[ 1.    0.    0.66 -1.86]  --  small
    [1.   0.   0.16 1.48]  --  small
</pre></div>
</div>
</section>
<section id="plotting-measurements">
<h3>Plotting Measurements<a class="headerlink" href="#plotting-measurements" title="Permalink to this heading"></a></h3>
<p>Colour will be used to indicate measurement category: orange == ‘small’, light-blue == ‘large’.
It is expected that the bus will have mostly light-blue (large) measurements coinciding with its
route, the bike will have mostly orange (small), and the car a roughly even split of both.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">all_measurements</span></a><span class="p">:</span>
    <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements</span></a><span class="p">:</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">col</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">measurement_model</span><span class="o">.</span><span class="n">emission_matrix</span><span class="o">.</span><span class="n">T</span> <span class="o">@</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span></a><span class="p">)</span>

        <a href="../../smartfusion.types.html#smartfusion.types.angle.Bearing" title="smartfusion.types.angle.Bearing" class="sphx-glr-backref-module-smartfusion-types-angle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">phi</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <a href="../../smartfusion.types.html#smartfusion.types.angle.Bearing" title="smartfusion.types.angle.Bearing" class="sphx-glr-backref-module-smartfusion-types-angle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rho</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">x</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.angle.Bearing" title="smartfusion.types.angle.Bearing" class="sphx-glr-backref-module-smartfusion-types-angle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rho</span></a> <span class="o">*</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">cos</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.angle.Bearing" title="smartfusion.types.angle.Bearing" class="sphx-glr-backref-module-smartfusion-types-angle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">phi</span></a><span class="p">)</span>
        <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">y</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.angle.Bearing" title="smartfusion.types.angle.Bearing" class="sphx-glr-backref-module-smartfusion-types-angle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rho</span></a> <span class="o">*</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">sin</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.angle.Bearing" title="smartfusion.types.angle.Bearing" class="sphx-glr-backref-module-smartfusion-types-angle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">phi</span></a><span class="p">)</span>
        <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">x</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">y</span></a><span class="p">,</span> <span class="n">color</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">col</span></a><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category</span></a><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">b</span></a> <span class="o">=</span> <span class="p">{</span><span class="n">l</span><span class="p">:</span> <span class="n">h</span> <span class="k">for</span> <span class="n">h</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a><span class="p">)}</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">c</span></a> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">b</span></a><span class="o">.</span><span class="n">items</span><span class="p">())]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">d</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">c</span></a><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="o">*</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">d</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc</span></a><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>

<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Measurements&#39;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">set_axes_limits</span><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Disjoint_Tracking_Classification_002.png" srcset="../../_images/sphx_glr_Disjoint_Tracking_Classification_002.png" alt="GT, Measurements" class = "sphx-glr-single-img"/></section>
</section>
<section id="tracking-components">
<h2>Tracking Components<a class="headerlink" href="#tracking-components" title="Permalink to this heading"></a></h2>
<section id="predictor">
<h3>Predictor<a class="headerlink" href="#predictor" title="Permalink to this heading"></a></h3>
<p>Though not used by the tracking components here, a <a class="reference internal" href="../../smartfusion.predictor.html#smartfusion.predictor.composite.CompositePredictor" title="smartfusion.predictor.composite.CompositePredictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositePredictor</span></code></a> will predict
the component states of a composite state forward, according to a list of sub-predictors.</p>
<p>A <a class="reference internal" href="../../smartfusion.predictor.html#smartfusion.predictor.categorical.HMMPredictor" title="smartfusion.predictor.categorical.HMMPredictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMMPredictor</span></code></a> specifically uses <a class="reference internal" href="../../smartfusion.models.transition.html#smartfusion.models.transition.categorical.MarkovianTransitionModel" title="smartfusion.models.transition.categorical.MarkovianTransitionModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkovianTransitionModel</span></code></a> types to
predict.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.predictor.kalman</span> <span class="kn">import</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">KalmanPredictor</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.predictor.categorical</span> <span class="kn">import</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.categorical.HMMPredictor" title="smartfusion.predictor.categorical.HMMPredictor" class="sphx-glr-backref-module-smartfusion-predictor-categorical sphx-glr-backref-type-py-class"><span class="n">HMMPredictor</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.predictor.composite</span> <span class="kn">import</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.composite.CompositePredictor" title="smartfusion.predictor.composite.CompositePredictor" class="sphx-glr-backref-module-smartfusion-predictor-composite sphx-glr-backref-type-py-class"><span class="n">CompositePredictor</span></a>

<a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">KalmanPredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_transition</span></a><span class="p">)</span>
<a href="../../smartfusion.predictor.html#smartfusion.predictor.categorical.HMMPredictor" title="smartfusion.predictor.categorical.HMMPredictor" class="sphx-glr-backref-module-smartfusion-predictor-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.categorical.HMMPredictor" title="smartfusion.predictor.categorical.HMMPredictor" class="sphx-glr-backref-module-smartfusion-predictor-categorical sphx-glr-backref-type-py-class"><span class="n">HMMPredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.categorical.MarkovianTransitionModel" title="smartfusion.models.transition.categorical.MarkovianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_transition</span></a><span class="p">)</span>

<a href="../../smartfusion.predictor.html#smartfusion.predictor.composite.CompositePredictor" title="smartfusion.predictor.composite.CompositePredictor" class="sphx-glr-backref-module-smartfusion-predictor-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.composite.CompositePredictor" title="smartfusion.predictor.composite.CompositePredictor" class="sphx-glr-backref-module-smartfusion-predictor-composite sphx-glr-backref-type-py-class"><span class="n">CompositePredictor</span></a><span class="p">([</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_predictor</span></a><span class="p">,</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.categorical.HMMPredictor" title="smartfusion.predictor.categorical.HMMPredictor" class="sphx-glr-backref-module-smartfusion-predictor-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_predictor</span></a><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="updater">
<h3>Updater<a class="headerlink" href="#updater" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeUpdater</span></code></a> composite updater will update each component sub-state according
to a list of corresponding sub-updaters. It has no method to create measurement predictions.
This is instead handled on instantiation of <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.hypothesis.CompositeHypothesis" title="smartfusion.types.hypothesis.CompositeHypothesis"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeHypothesis</span></code></a> types: the expected
arguments to the updater’s <cite>update</cite> method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.updater.kalman</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanUpdater</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.updater.categorical</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.categorical.HMMUpdater" title="smartfusion.updater.categorical.HMMUpdater" class="sphx-glr-backref-module-smartfusion-updater-categorical sphx-glr-backref-type-py-class"><span class="n">HMMUpdater</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.updater.composite</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater" class="sphx-glr-backref-module-smartfusion-updater-composite sphx-glr-backref-type-py-class"><span class="n">CompositeUpdater</span></a>

<a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanUpdater</span></a><span class="p">()</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.categorical.HMMUpdater" title="smartfusion.updater.categorical.HMMUpdater" class="sphx-glr-backref-module-smartfusion-updater-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.categorical.HMMUpdater" title="smartfusion.updater.categorical.HMMUpdater" class="sphx-glr-backref-module-smartfusion-updater-categorical sphx-glr-backref-type-py-class"><span class="n">HMMUpdater</span></a><span class="p">()</span>

<a href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater" class="sphx-glr-backref-module-smartfusion-updater-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater" class="sphx-glr-backref-module-smartfusion-updater-composite sphx-glr-backref-type-py-class"><span class="n">CompositeUpdater</span></a><span class="p">(</span><span class="n">sub_updaters</span><span class="o">=</span><span class="p">[</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_updater</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.categorical.HMMUpdater" title="smartfusion.updater.categorical.HMMUpdater" class="sphx-glr-backref-module-smartfusion-updater-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_updater</span></a><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="hypothesiser">
<h3>Hypothesiser<a class="headerlink" href="#hypothesiser" title="Permalink to this heading"></a></h3>
<p>The hypothesiser is a <a class="reference internal" href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.composite.CompositeHypothesiser" title="smartfusion.hypothesiser.composite.CompositeHypothesiser"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeHypothesiser</span></code></a> type. It is in the data association step
that tracking and classification are combined: for each measurement, a hypothesis is created for
both a track’s kinematic and categorical components. A <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.hypothesis.CompositeHypothesis" title="smartfusion.types.hypothesis.CompositeHypothesis"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeHypothesis</span></code></a> type is
created, which contains these sub-hypotheses, whereby its weight is equal to the product of the
sub-hypotheses’ weights. These sub-hypotheses should be probabilistic.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeHypothesiser</span></code> uses a list of sub-hypothesisers to create these
sub-hypotheses, hence the sub-hypothesisers should also be probabilistic.
In this example we will define a hypothesiser that simply changes kinematic distance weights in
to probabilities for hypothesising the kinematic sub-state of the track.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.measures</span> <span class="kn">import</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.distance</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.hypothesis</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleProbabilityHypothesis" title="smartfusion.types.hypothesis.SingleProbabilityHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class"><span class="n">SingleProbabilityHypothesis</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.multihypothesis</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.multihypothesis.MultipleHypothesis" title="smartfusion.types.multihypothesis.MultipleHypothesis" class="sphx-glr-backref-module-smartfusion-types-multihypothesis sphx-glr-backref-type-py-class"><span class="n">MultipleHypothesis</span></a>


<span class="k">class</span> <span class="nc">ProbabilityHypothesiser</span><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a><span class="p">):</span>
    <span class="k">def</span> <span class="nf">hypothesise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">,</span> <span class="n">detections</span><span class="p">,</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">multi_hypothesis</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">hypothesise</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">,</span> <span class="n">detections</span><span class="p">,</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">single_hypotheses</span> <span class="o">=</span> <span class="n">multi_hypothesis</span><span class="o">.</span><span class="n">single_hypotheses</span>
        <span class="n">prob_single_hypotheses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">hypothesis</span> <span class="ow">in</span> <span class="n">single_hypotheses</span><span class="p">:</span>
            <span class="n">prob_hypothesis</span> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleProbabilityHypothesis" title="smartfusion.types.hypothesis.SingleProbabilityHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class"><span class="n">SingleProbabilityHypothesis</span></a><span class="p">(</span><span class="n">hypothesis</span><span class="o">.</span><span class="n">prediction</span><span class="p">,</span>
                                                          <span class="n">hypothesis</span><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.detection.CompositeDetection" title="smartfusion.types.detection.CompositeDetection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">,</span>
                                                          <span class="mi">1</span> <span class="o">/</span> <span class="n">hypothesis</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
                                                          <span class="n">hypothesis</span><span class="o">.</span><span class="n">measurement_prediction</span><span class="p">)</span>
            <span class="n">prob_single_hypotheses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prob_hypothesis</span><span class="p">)</span>
        <span class="k">return</span> <a href="../../smartfusion.types.html#smartfusion.types.multihypothesis.MultipleHypothesis" title="smartfusion.types.multihypothesis.MultipleHypothesis" class="sphx-glr-backref-module-smartfusion-types-multihypothesis sphx-glr-backref-type-py-class"><span class="n">MultipleHypothesis</span></a><span class="p">(</span><span class="n">prob_single_hypotheses</span><span class="p">,</span> <span class="n">normalise</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">total_weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>


<span class="n">kinematic_hypothesiser</span> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">ProbabilityHypothesiser</span></a><span class="p">(</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.composite.CompositePredictor" title="smartfusion.predictor.composite.CompositePredictor" class="sphx-glr-backref-module-smartfusion-predictor-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="o">=</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_predictor</span></a><span class="p">,</span>
                                                 <a href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater" class="sphx-glr-backref-module-smartfusion-updater-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_updater</span></a><span class="p">,</span>
                                                 <span class="n">measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a><span class="p">())</span>
</pre></div>
</div>
<p>A <a class="reference internal" href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.categorical.HMMHypothesiser" title="smartfusion.hypothesiser.categorical.HMMHypothesiser"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMMHypothesiser</span></code></a> is used for calculating categorical hypotheses.
It utilises the <a class="reference internal" href="../../smartfusion.measures.html#smartfusion.measures.ObservationAccuracy" title="smartfusion.measures.ObservationAccuracy"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservationAccuracy</span></code></a> measure: a multi-dimensional extension of an
‘accuracy’ score, essentially providing a measure of the similarity between two categorical
distributions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.categorical</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.categorical.HMMHypothesiser" title="smartfusion.hypothesiser.categorical.HMMHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-categorical sphx-glr-backref-type-py-class"><span class="n">HMMHypothesiser</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.composite</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.composite.CompositeHypothesiser" title="smartfusion.hypothesiser.composite.CompositeHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-composite sphx-glr-backref-type-py-class"><span class="n">CompositeHypothesiser</span></a>

<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.categorical.HMMHypothesiser" title="smartfusion.hypothesiser.categorical.HMMHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.categorical.HMMHypothesiser" title="smartfusion.hypothesiser.categorical.HMMHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-categorical sphx-glr-backref-type-py-class"><span class="n">HMMHypothesiser</span></a><span class="p">(</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.composite.CompositePredictor" title="smartfusion.predictor.composite.CompositePredictor" class="sphx-glr-backref-module-smartfusion-predictor-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="o">=</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.categorical.HMMPredictor" title="smartfusion.predictor.categorical.HMMPredictor" class="sphx-glr-backref-module-smartfusion-predictor-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_predictor</span></a><span class="p">,</span>
                                        <a href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater" class="sphx-glr-backref-module-smartfusion-updater-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.categorical.HMMUpdater" title="smartfusion.updater.categorical.HMMUpdater" class="sphx-glr-backref-module-smartfusion-updater-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_updater</span></a><span class="p">)</span>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.composite.CompositeHypothesiser" title="smartfusion.hypothesiser.composite.CompositeHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.composite.CompositeHypothesiser" title="smartfusion.hypothesiser.composite.CompositeHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-composite sphx-glr-backref-type-py-class"><span class="n">CompositeHypothesiser</span></a><span class="p">(</span>
    <span class="n">sub_hypothesisers</span><span class="o">=</span><span class="p">[</span><span class="n">kinematic_hypothesiser</span><span class="p">,</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.categorical.HMMHypothesiser" title="smartfusion.hypothesiser.categorical.HMMHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_hypothesiser</span></a><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="data-associator">
<h3>Data Associator<a class="headerlink" href="#data-associator" title="Permalink to this heading"></a></h3>
<p>We will use a standard <a class="reference internal" href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment"><code class="xref py py-class docutils literal notranslate"><span class="pre">GNNWith2DAssignment</span></code></a> data associator.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.dataassociator.neighbour</span> <span class="kn">import</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class"><span class="n">GNNWith2DAssignment</span></a>

<a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a> <span class="o">=</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class"><span class="n">GNNWith2DAssignment</span></a><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.composite.CompositeHypothesiser" title="smartfusion.hypothesiser.composite.CompositeHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="prior">
<h3>Prior<a class="headerlink" href="#prior" title="Permalink to this heading"></a></h3>
<p>As we are tracking in a composite state space, we should initiate tracks with a
<a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.state.CompositeState" title="smartfusion.types.state.CompositeState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeState</span></code></a> type. The kinematic sub-state of the prior is a usual Gaussian state.
For the categorical sub-state of the prior, equal probability is given to all 3 of the possible
hidden classes that a target might take (the category names are also provided here).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.types.state</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">CategoricalState</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.state.CompositeState" title="smartfusion.types.state.CompositeState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">CompositeState</span></a>

<a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_prior</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<a href="../../smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_prior</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">CategoricalState</span></a><span class="p">([</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hidden_classes</span></a><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.state.CompositeState" title="smartfusion.types.state.CompositeState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prior</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.CompositeState" title="smartfusion.types.state.CompositeState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">CompositeState</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_prior</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_prior</span></a><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="initiator">
<h3>Initiator<a class="headerlink" href="#initiator" title="Permalink to this heading"></a></h3>
<p>The initiator is composite. For each unassociated detection, a new track will be initiated. In
this instance we use a <a class="reference internal" href="../../smartfusion.initiator.html#smartfusion.initiator.composite.CompositeUpdateInitiator" title="smartfusion.initiator.composite.CompositeUpdateInitiator"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeUpdateInitiator</span></code></a> type. A detection has both kinematic
and categorical information to initiate the 2 state space sub-states from. However, in an
instance where a detection only provides one of these, the missing sub-state for the track will
be initiated as the given prior’s sub-state (eg. if a detection provides only kinematic
information of the target, the track will initiate its categorical sub-state as the
category_prior defined earlier).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.initiator.simple</span> <span class="kn">import</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.SimpleMeasurementInitiator" title="smartfusion.initiator.simple.SimpleMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class"><span class="n">SimpleMeasurementInitiator</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.initiator.categorical</span> <span class="kn">import</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" title="smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-categorical sphx-glr-backref-type-py-class"><span class="n">SimpleCategoricalMeasurementInitiator</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.initiator.composite</span> <span class="kn">import</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.composite.CompositeUpdateInitiator" title="smartfusion.initiator.composite.CompositeUpdateInitiator" class="sphx-glr-backref-module-smartfusion-initiator-composite sphx-glr-backref-type-py-class"><span class="n">CompositeUpdateInitiator</span></a>

<a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.SimpleMeasurementInitiator" title="smartfusion.initiator.simple.SimpleMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_initiator</span></a> <span class="o">=</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.SimpleMeasurementInitiator" title="smartfusion.initiator.simple.SimpleMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class"><span class="n">SimpleMeasurementInitiator</span></a><span class="p">(</span><span class="n">prior_state</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_prior</span></a><span class="p">,</span>
                                                 <span class="n">measurement_model</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a href="../../smartfusion.initiator.html#smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" title="smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_initiator</span></a> <span class="o">=</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" title="smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-categorical sphx-glr-backref-type-py-class"><span class="n">SimpleCategoricalMeasurementInitiator</span></a><span class="p">(</span><span class="n">prior_state</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_prior</span></a><span class="p">,</span>
                                                           <a href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater" class="sphx-glr-backref-module-smartfusion-updater-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.categorical.HMMUpdater" title="smartfusion.updater.categorical.HMMUpdater" class="sphx-glr-backref-module-smartfusion-updater-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_updater</span></a><span class="p">)</span>
<a href="../../smartfusion.initiator.html#smartfusion.initiator.composite.CompositeUpdateInitiator" title="smartfusion.initiator.composite.CompositeUpdateInitiator" class="sphx-glr-backref-module-smartfusion-initiator-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a> <span class="o">=</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.composite.CompositeUpdateInitiator" title="smartfusion.initiator.composite.CompositeUpdateInitiator" class="sphx-glr-backref-module-smartfusion-initiator-composite sphx-glr-backref-type-py-class"><span class="n">CompositeUpdateInitiator</span></a><span class="p">(</span><span class="n">sub_initiators</span><span class="o">=</span><span class="p">[</span><a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.SimpleMeasurementInitiator" title="smartfusion.initiator.simple.SimpleMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kinematic_initiator</span></a><span class="p">,</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" title="smartfusion.initiator.categorical.SimpleCategoricalMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-categorical sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category_initiator</span></a><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="deleter">
<h3>Deleter<a class="headerlink" href="#deleter" title="Permalink to this heading"></a></h3>
<p>We can use a standard <a class="reference internal" href="../../smartfusion.deleter.html#smartfusion.deleter.time.UpdateTimeStepsDeleter" title="smartfusion.deleter.time.UpdateTimeStepsDeleter"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateTimeStepsDeleter</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.deleter.time</span> <span class="kn">import</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.time.UpdateTimeStepsDeleter" title="smartfusion.deleter.time.UpdateTimeStepsDeleter" class="sphx-glr-backref-module-smartfusion-deleter-time sphx-glr-backref-type-py-class"><span class="n">UpdateTimeStepsDeleter</span></a>

<a href="../../smartfusion.deleter.html#smartfusion.deleter.time.UpdateTimeStepsDeleter" title="smartfusion.deleter.time.UpdateTimeStepsDeleter" class="sphx-glr-backref-module-smartfusion-deleter-time sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a> <span class="o">=</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.time.UpdateTimeStepsDeleter" title="smartfusion.deleter.time.UpdateTimeStepsDeleter" class="sphx-glr-backref-module-smartfusion-deleter-time sphx-glr-backref-type-py-class"><span class="n">UpdateTimeStepsDeleter</span></a><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tracker">
<h3>Tracker<a class="headerlink" href="#tracker" title="Permalink to this heading"></a></h3>
<p>We can use a standard <a class="reference internal" href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiTargetTracker</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.tracker.simple</span> <span class="kn">import</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetTracker</span></a>

<a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracker</span></a> <span class="o">=</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetTracker</span></a><span class="p">(</span><a href="../../smartfusion.initiator.html#smartfusion.initiator.composite.CompositeUpdateInitiator" title="smartfusion.initiator.composite.CompositeUpdateInitiator" class="sphx-glr-backref-module-smartfusion-initiator-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a><span class="p">,</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.time.UpdateTimeStepsDeleter" title="smartfusion.deleter.time.UpdateTimeStepsDeleter" class="sphx-glr-backref-module-smartfusion-deleter-time sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">all_measurements</span></a><span class="p">,</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.composite.CompositeUpdater" title="smartfusion.updater.composite.CompositeUpdater" class="sphx-glr-backref-module-smartfusion-updater-composite sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="tracking">
<h2>Tracking<a class="headerlink" href="#tracking" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ctracks</span></a> <span class="ow">in</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracker</span></a><span class="p">:</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ctracks</span></a><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of tracks </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;id: </span><span class="si">{</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span><span class="o">.</span><span class="n">id</span></a><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">:</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">vector</span></a> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">np</span><span class="o">.</span><span class="n">double</span></a><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%25s</span><span class="s2">&quot;</span> <span class="o">%</span> <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">vector</span></a><span class="p">,</span> <span class="s1">&#39; -- &#39;</span><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.CategoricalGroundTruthState" title="smartfusion.types.groundtruth.CategoricalGroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">category</span></a><span class="p">,</span> <span class="s1">&#39; -- &#39;</span><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">timestamp</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Number of tracks 3
id: 20d17e79-79b8-4b3a-9c28-08f50e991f41
[-1.33  0.   -0.57  0.  ]  --  bike  --  2022-09-26 17:25:33.670588
[-0.92  0.42 -4.81 -4.24]  --  bike  --  2022-09-26 17:25:34.670588
[13.11 10.18 -6.27 -3.63]  --  bike  --  2022-09-26 17:25:35.670588
[26.21 12.04 -3.94  0.49]  --  bike  --  2022-09-26 17:25:36.670588
[38.64 11.92  3.89  4.43]  --  bike  --  2022-09-26 17:25:37.670588
[48.83 10.5  17.    8.23]  --  bike  --  2022-09-26 17:25:38.670588
[55.55  8.2  32.96 11.  ]  --  bike  --  2022-09-26 17:25:39.670588
[58.24  5.49 51.76 13.29]  --  bike  --  2022-09-26 17:25:40.670588
[56.62  2.5  71.98 14.87]  --  bike  --  2022-09-26 17:25:41.670588
[ 44.58  -2.33 100.11  18.07]  --  bike  --  2022-09-26 17:25:42.670588
[ 38.8   -3.5  119.37  17.96]  --  bike  --  2022-09-26 17:25:43.670588
id: 9f37a91e-34a0-4170-9da3-64957629947f
    [0.04 0.   0.   0.  ]  --  bus  --  2022-09-26 17:25:33.670588
    [1.21 1.16 0.09 0.09]  --  bus  --  2022-09-26 17:25:34.670588
    [2.1  0.92 2.26 2.69]  --  bus  --  2022-09-26 17:25:35.670588
    [2.25 0.47 4.04 1.74]  --  bus  --  2022-09-26 17:25:36.670588
    [2.97 0.79 4.33 0.67]  --  bus  --  2022-09-26 17:25:37.670588
    [3.53 0.65 4.38 0.26]  --  bus  --  2022-09-26 17:25:38.670588
    [4.08 0.57 4.72 0.33]  --  bus  --  2022-09-26 17:25:39.670588
    [4.66 0.56 5.25 0.47]  --  bus  --  2022-09-26 17:25:40.670588
    [5.22 0.53 6.12 0.76]  --  bus  --  2022-09-26 17:25:41.670588
    [5.41 0.26 7.65 1.3 ]  --  bus  --  2022-09-26 17:25:42.670588
    [6.27 0.66 9.11 1.39]  --  bus  --  2022-09-26 17:25:43.670588
id: 4e11d290-1ba4-4967-9b73-98fc8e703d22
[-2.56  0.   -0.02  0.  ]  --  bike  --  2022-09-26 17:25:33.670588
[-4.71 -2.14  6.56  6.59]  --  car  --  2022-09-26 17:25:34.670588
[ 5.01  5.87 17.93 11.59]  --  car  --  2022-09-26 17:25:35.670588
[14.08  7.79 26.99  9.78]  --  car  --  2022-09-26 17:25:36.670588
[22.23  7.95 36.32  9.52]  --  car  --  2022-09-26 17:25:37.670588
[27.33  6.97 48.87 11.04]  --  car  --  2022-09-26 17:25:38.670588
[27.61  4.75 64.94 12.98]  --  car  --  2022-09-26 17:25:39.670588
[25.14  2.35 81.31 13.82]  --  car  --  2022-09-26 17:25:40.670588
[ 1.957e+01 -8.000e-02  9.773e+01  1.421e+01]  --  car  --  2022-09-26 17:25:41.670588
[ 21.07   0.21 109.54  12.9 ]  --  car  --  2022-09-26 17:25:42.670588
[  9.16  -2.92 123.28  12.34]  --  car  --  2022-09-26 17:25:43.670588
</pre></div>
</div>
<section id="plotting-tracks">
<h3>Plotting Tracks<a class="headerlink" href="#plotting-tracks" title="Permalink to this heading"></a></h3>
<p>Colour will be used to indicate a track’s hidden category distribution. The <cite>rgb</cite> value is
defined by the ‘bike’, ‘car’, and ‘bus’ probabilities. For example, a track with high probability
of being a ‘bike’ will have a high ‘r’ value, and hence appear more red.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">:</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">i</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="mi">1</span><span class="p">):</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc0</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">[</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">i</span></a> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc1</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">X</span></a> <span class="o">=</span> <span class="p">[</span><a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc0</span></a><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc1</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Y</span></a> <span class="o">=</span> <span class="p">[</span><a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc0</span></a><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <a href="../../smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loc1</span></a><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
        <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">X</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Y</span></a><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;track&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.update.CompositeUpdate" title="smartfusion.types.update.CompositeUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">state_vector</span><span class="p">))</span>

<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Tracks&#39;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">set_axes_limits</span><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Disjoint_Tracking_Classification_003.png" srcset="../../_images/sphx_glr_Disjoint_Tracking_Classification_003.png" alt="GT, Measurements, Tracks" class = "sphx-glr-single-img"/><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.363 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-tutorials-moreexamples-disjoint-tracking-classification-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/claycurry34/Smart-Fusion/main?filepath=notebooks/auto_tutorials/moreexamples/Disjoint_Tracking_Classification.ipynb"><img alt="Launch binder" src="../../_images/binder_badge_logo2.svg" width="150px" /></a>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/80652a78a7d7deeab9f7a51a00234902/Disjoint_Tracking_Classification.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">Disjoint_Tracking_Classification.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/76f3559cd8513ba0644fb0fcde8b9c14/Disjoint_Tracking_Classification.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">Disjoint_Tracking_Classification.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Creating_Actionable_Sensor.html" class="btn btn-neutral float-left" title="Creating an Actionable Sensor Example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="MTT_3D_Platform.html" class="btn btn-neutral float-right" title="Multi-Target Tracking in 3D Using Platform Simulation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2022 University of Oklahoma.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>