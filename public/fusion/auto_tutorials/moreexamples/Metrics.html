<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Metrics Example &mdash; SMART FUSION 0.1b11.dev6+g9121db30.d20220926 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Multi-Sensor Moving Platform Simulation Example" href="Moving_Platform_Simulation.html" />
    <link rel="prev" title="Multi-Target Tracking in 3D Using Platform Simulation" href="MTT_3D_Platform.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> SMART FUSION
            <img src="../../_static/smart_fusion_logo.jpeg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1b11.dev6+g9121db30.d20220926
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../design.html">Framework </a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#fundamentals">Fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#more-examples">More Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#sensor-management">Sensor Management</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#state-estimation">State Estimation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../fundamentals/index.html">Fundamentals</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">More Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Classifying_Using_HMM.html">Classification Using Hidden Markov Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="Creating_Actionable_Sensor.html">Creating an Actionable Sensor Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Disjoint_Tracking_Classification.html">Disjoint Tracking and Classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="MTT_3D_Platform.html">Multi-Target Tracking in 3D Using Platform Simulation</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Metrics Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Moving_Platform_Simulation.html">Multi-Sensor Moving Platform Simulation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="ParticleFlow.html">Gromov Particle Flow Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="Sensor_Platform_Simulation.html">Sensor Platform Simulation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Smooth_Platform_Coordinate_Transitions.html">Creating Smooth Transitions Between Coordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="Track2Track_Fusion_Example.html">Multi-Sensor Fusion: Covariance Intersection Using Tracks as Measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="range_range_rate_binning.html">RangeRangeRateBinning measurement model example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sensormanagement/index.html">Sensor Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateestimation/index.html">State Estimation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../smartfusion.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_demos/index.html">Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright &amp; License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SMART FUSION</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
          <li><a href="index.html">More Examples</a> &raquo;</li>
      <li>Metrics Example</li>
  
    
    
      
    
  
  <li class="wy-breadcrumbs-aside">
    <a href="https://github.com/claycurry34/Smart-Fusion/blob/main/docs/source/../tutorials/moreexamples/Metrics.py" class="fa fa-github"> Edit on GitHub</a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-tutorials-moreexamples-metrics-py"><span class="std std-ref">here</span></a>
to download the full example code or to run this example in your browser via Binder</p>
</div>
<section class="sphx-glr-example-title" id="metrics-example">
<span id="sphx-glr-auto-tutorials-moreexamples-metrics-py"></span><h1>Metrics Example<a class="headerlink" href="#metrics-example" title="Permalink to this heading"></a></h1>
<p>This example is going to look at metrics, and how they can be used to assess algorithm performance.</p>
<section id="building-a-simple-simulation-and-tracker">
<h2>Building a Simple Simulation and Tracker<a class="headerlink" href="#building-a-simple-simulation-and-tracker" title="Permalink to this heading"></a></h2>
<p>For simplicity, we are going to quickly build a basic Kalman Tracker, with simple SMART FUSION
simulators, including clutter. In this case a 2D constant velocity target, with 2D linear
measurements of position.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">from</span> <span class="nn">smartfusion.dataassociator.neighbour</span> <span class="kn">import</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class"><span class="n">GNNWith2DAssignment</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.deleter.error</span> <span class="kn">import</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class"><span class="n">CovarianceBasedDeleter</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.distance</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.initiator.simple</span> <span class="kn">import</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class"><span class="n">MultiMeasurementInitiator</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.measures</span> <span class="kn">import</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.models.transition.linear</span> <span class="kn">import</span> <span class="p">(</span>
    <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">,</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">)</span>
<span class="kn">from</span> <span class="nn">smartfusion.models.measurement.linear</span> <span class="kn">import</span> <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class"><span class="n">LinearGaussian</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.predictor.kalman</span> <span class="kn">import</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">KalmanPredictor</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.simulator.simple</span> <span class="kn">import</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetGroundTruthSimulator</span></a><span class="p">,</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.SimpleDetectionSimulator" title="smartfusion.simulator.simple.SimpleDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class"><span class="n">SimpleDetectionSimulator</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.tracker.simple</span> <span class="kn">import</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetTracker</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.array</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">StateVector</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">CovarianceMatrix</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.state</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.updater.kalman</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class"><span class="n">KalmanUpdater</span></a>

<span class="c1"># Models</span>
<a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">transition_model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">(</span>
    <span class="p">[</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mi">1</span><span class="p">)],</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class"><span class="n">LinearGaussian</span></a><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]),</span> <span class="n">seed</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Simulators</span>
<a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">groundtruth_sim</span></a> <span class="o">=</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetGroundTruthSimulator</span></a><span class="p">(</span>
    <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">transition_model</span></a><span class="o">=</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">transition_model</span></a><span class="p">,</span>
    <span class="n">initial_state</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a><span class="p">(</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">StateVector</span></a><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]),</span>
        <a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">CovarianceMatrix</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))),</span>
    <span class="n">timestep</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
    <span class="n">number_steps</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">birth_rate</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="n">death_probability</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>
<a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.SimpleDetectionSimulator" title="smartfusion.simulator.simple.SimpleDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detection_sim</span></a> <span class="o">=</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.SimpleDetectionSimulator" title="smartfusion.simulator.simple.SimpleDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class"><span class="n">SimpleDetectionSimulator</span></a><span class="p">(</span>
    <span class="n">groundtruth</span><span class="o">=</span><a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">groundtruth_sim</span></a><span class="p">,</span>
    <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="o">=</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">,</span>
    <span class="n">meas_range</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span> <span class="o">*</span> <span class="mi">5000</span><span class="p">,</span>  <span class="c1"># Area to generate clutter</span>
    <span class="n">detection_probability</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">clutter_rate</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>

<span class="c1"># Filter</span>
<a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">KalmanPredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">transition_model</span></a><span class="p">)</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class"><span class="n">KalmanUpdater</span></a><span class="p">(</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">)</span>

<span class="c1"># Data Associator</span>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a><span class="p">(</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.KalmanPredictor" title="smartfusion.predictor.kalman.KalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">,</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a><span class="p">(),</span> <span class="n">missed_distance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a> <span class="o">=</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class"><span class="n">GNNWith2DAssignment</span></a><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="p">)</span>

<span class="c1"># Initiator &amp; Deleter</span>
<a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a> <span class="o">=</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class"><span class="n">CovarianceBasedDeleter</span></a><span class="p">(</span><span class="n">covar_trace_thresh</span><span class="o">=</span><span class="mf">1E3</span><span class="p">)</span>
<a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a> <span class="o">=</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class"><span class="n">MultiMeasurementInitiator</span></a><span class="p">(</span>
    <a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]),</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">])),</span>
    <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="o">=</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.linear.LinearGaussian" title="smartfusion.models.measurement.linear.LinearGaussian" class="sphx-glr-backref-module-smartfusion-models-measurement-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">,</span>
    <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="o">=</span><a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="p">,</span>
    <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="o">=</span><a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">,</span>
    <span class="n">min_points</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Tracker</span>
<a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracker</span></a> <span class="o">=</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetTracker</span></a><span class="p">(</span>
    <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a><span class="o">=</span><a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a><span class="p">,</span>
    <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="o">=</span><a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="p">,</span>
    <span class="n">detector</span><span class="o">=</span><a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.SimpleDetectionSimulator" title="smartfusion.simulator.simple.SimpleDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detection_sim</span></a><span class="p">,</span>
    <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="o">=</span><a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="create-metric-generators">
<h2>Create Metric Generators<a class="headerlink" href="#create-metric-generators" title="Permalink to this heading"></a></h2>
<p>Here we are going to create a variety of metrics. First up is some “Basic Metrics”, that simply
computes the number of tracks, number to targets and the ratio of tracks to targets. Basic but
useful information, that requires no additional properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.basicmetrics</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class"><span class="n">BasicMetrics</span></a>

<a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">basic_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class"><span class="n">BasicMetrics</span></a><span class="p">()</span>
</pre></div>
</div>
<p>Next we’ll create the Optimal SubPattern Assignment (OSPA) metric generator. This metric is
calculated at each time step, giving an overall multi-track to multi-groundtruth missed distance.
This has two properties: <span class="math notranslate nohighlight">\(p \in [1,\infty]\)</span> for outlier sensitivity and <span class="math notranslate nohighlight">\(c &gt; 1\)</span> for
cardinality penalty. <a class="footnote-reference brackets" href="#id3" id="id1">1</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.ospametric</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class"><span class="n">OSPAMetric</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.measures</span> <span class="kn">import</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a>

<a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ospa_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class"><span class="n">OSPAMetric</span></a><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
</pre></div>
</div>
<p>And finally we create some Single Integrated Air Picture (SIAP) metrics. Despite it’s name, this
is applicable to tracking in general and not just in relation to an air picture. This is made up
of multiple individual metrics. <a class="footnote-reference brackets" href="#id4" id="id2">2</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.tracktotruthmetrics</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class"><span class="n">SIAPMetrics</span></a>

<a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class"><span class="n">SIAPMetrics</span></a><span class="p">(</span><span class="n">position_measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span>
                             <span class="n">velocity_measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
</pre></div>
</div>
<p>The SIAP Metrics requires a way to associate tracks to truth, so we’ll use a Track to Truth
associator, which uses Euclidean distance measure by default.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.dataassociator.tracktotrack</span> <span class="kn">import</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class"><span class="n">TrackToTruth</span></a>

<a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">associator</span></a> <span class="o">=</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class"><span class="n">TrackToTruth</span></a><span class="p">(</span><span class="n">association_threshold</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<p>As a final example of a metric, we’ll create a plotting metric, which is a visual way to view the
output of our tracker.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.plotter</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.plotter.html#smartfusion.metricgenerator.plotter.TwoDPlotter" title="smartfusion.metricgenerator.plotter.TwoDPlotter" class="sphx-glr-backref-module-smartfusion-metricgenerator-plotter sphx-glr-backref-type-py-class"><span class="n">TwoDPlotter</span></a>

<a href="../../smartfusion.metricgenerator.plotter.html#smartfusion.metricgenerator.plotter.TwoDPlotter" title="smartfusion.metricgenerator.plotter.TwoDPlotter" class="sphx-glr-backref-module-smartfusion-metricgenerator-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.plotter.html#smartfusion.metricgenerator.plotter.TwoDPlotter" title="smartfusion.metricgenerator.plotter.TwoDPlotter" class="sphx-glr-backref-module-smartfusion-metricgenerator-plotter sphx-glr-backref-type-py-class"><span class="n">TwoDPlotter</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>Once we’ve created a set of metrics, these are added to a Metric Manager, along with the
associator. The associator can be used by multiple metric generators, only being run once as this
can be a computationally expensive process; in this case, only SIAP Metrics requires it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.manager</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class"><span class="n">SimpleManager</span></a>

<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_manager</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class"><span class="n">SimpleManager</span></a><span class="p">([</span><a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">basic_generator</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ospa_generator</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_generator</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.plotter.html#smartfusion.metricgenerator.plotter.TwoDPlotter" title="smartfusion.metricgenerator.plotter.TwoDPlotter" class="sphx-glr-backref-module-smartfusion-metricgenerator-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_generator</span></a><span class="p">],</span>
                               <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">associator</span></a><span class="o">=</span><a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">associator</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tracking-and-generating-metrics">
<h2>Tracking and Generating Metrics<a class="headerlink" href="#tracking-and-generating-metrics" title="Permalink to this heading"></a></h2>
<p>With this basic tracker built and metrics ready, we’ll now run the tracker, adding the sets of
<a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroundTruthPath</span></code></a>, <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detection</span></code></a> and <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">Track</span></code></a> objects: to the metric
manager.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a> <span class="ow">in</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetTracker" title="smartfusion.tracker.simple.MultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracker</span></a><span class="p">:</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">metric_manager</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span>
        <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">groundtruth_sim</span></a><span class="o">.</span><span class="n">groundtruth_paths</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">,</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.SimpleDetectionSimulator" title="smartfusion.simulator.simple.SimpleDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detection_sim</span></a><span class="o">.</span><span class="n">detections</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Don&#39;t overwrite, instead add above as additional data</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>With the tracker run and data in the metric manager, we’ll now run the generate metrics method.
This will also generate the plot, which will be rendered automatically below, which will give a
visual overview</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://matplotlib.org/stable/api/matplotlib_configuration_api.html#matplotlib.RcParams" title="matplotlib.RcParams" class="sphx-glr-backref-module-matplotlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span></a><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" title="smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">metric_manager</span><span class="o">.</span><span class="n">generate_metrics</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Metrics_001.png" srcset="../../_images/sphx_glr_Metrics_001.png" alt="Metrics" class = "sphx-glr-single-img"/><p>So first we’ll loop through the metrics and print out the basic metrics, which simply gives
details on number of tracks versus targets.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">s</span> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;SIAP&#39;</span><span class="p">,</span> <span class="s1">&#39;OSPA&#39;</span><span class="p">,</span> <span class="s1">&#39;plot&#39;</span><span class="p">)):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a><span class="o">.</span><span class="n">get</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Number of targets : 17
Number of tracks : 15
Track-to-target ratio : 0.8823529411764706
</pre></div>
</div>
<p>Next we’ll take a look at the OSPA metric, plotting it to show how it varies over time. In this
example, targets are created and remove randomly, so expect this to be fairly variable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../../smartfusion.types.html#smartfusion.types.metric.TimeRangeMetric" title="smartfusion.types.metric.TimeRangeMetric" class="sphx-glr-backref-module-smartfusion-types-metric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ospa_metric</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a><span class="p">[</span><span class="s1">&#39;OSPA distances&#39;</span><span class="p">]</span>

<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="matplotlib.pyplot.figure" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span></a><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.add_subplot" title="matplotlib.figure.Figure.add_subplot" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span></a><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">timestamp</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ospa_metric</span><span class="o">.</span><span class="n">value</span></a><span class="p">],</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ospa_metric</span><span class="o">.</span><span class="n">value</span></a><span class="p">])</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html#matplotlib.axes.Axes.set_ylabel" title="matplotlib.axes.Axes.set_ylabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span></a><span class="p">(</span><span class="s2">&quot;OSPA distance&quot;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.tick_params.html#matplotlib.axes.Axes.tick_params" title="matplotlib.axes.Axes.tick_params" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span></a><span class="p">(</span><span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/table_api.html#matplotlib.table.Table" title="matplotlib.table.Table" class="sphx-glr-backref-module-matplotlib-table sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">_</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlabel.html#matplotlib.axes.Axes.set_xlabel" title="matplotlib.axes.Axes.set_xlabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span></a><span class="p">(</span><span class="s2">&quot;Time&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Metrics_002.png" srcset="../../_images/sphx_glr_Metrics_002.png" alt="Metrics" class = "sphx-glr-single-img"/><p>And finally, we’ll look at the SIAP metrics, but to make these easier to visualise and understand
we’ll use a special SIAP table generator. This will colour code the results for quick visual
indication, as well as provide a description for each metric.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.metrictables</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.base.MetricTableGenerator" title="smartfusion.metricgenerator.base.MetricTableGenerator" class="sphx-glr-backref-module-smartfusion-metricgenerator-base sphx-glr-backref-type-py-class"><span class="n">SIAPTableGenerator</span></a>

<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_averages</span></a> <span class="o">=</span> <span class="p">{</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a><span class="o">.</span><span class="n">get</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a><span class="p">)</span> <span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a>
                 <span class="k">if</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;SIAP&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot; at times&quot;</span><span class="p">)}</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_time_based</span></a> <span class="o">=</span> <span class="p">{</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a><span class="o">.</span><span class="n">get</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a><span class="p">)</span> <span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a> <span class="k">if</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric</span></a><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39; at times&#39;</span><span class="p">)}</span>

<a href="https://matplotlib.org/stable/api/table_api.html#matplotlib.table.Table" title="matplotlib.table.Table" class="sphx-glr-backref-module-matplotlib-table sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">_</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.base.MetricTableGenerator" title="smartfusion.metricgenerator.base.MetricTableGenerator" class="sphx-glr-backref-module-smartfusion-metricgenerator-base sphx-glr-backref-type-py-class"><span class="n">SIAPTableGenerator</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_averages</span></a><span class="p">)</span><span class="o">.</span><span class="n">compute_metric</span><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Metrics_003.png" srcset="../../_images/sphx_glr_Metrics_003.png" alt="Metrics" class = "sphx-glr-single-img"/><p>Plotting appropriate SIAP values at each timestamp gives:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig2</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplots_adjust" title="matplotlib.figure.Figure.subplots_adjust" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig2</span><span class="o">.</span><span class="n">subplots_adjust</span></a><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">t_siaps</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_time_based</span></a>

<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">times</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.list_timestamps" title="smartfusion.metricgenerator.manager.SimpleManager.list_timestamps" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">metric_manager</span><span class="o">.</span><span class="n">list_timestamps</span></a><span class="p">()</span>

<span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.metric.TimeRangeMetric" title="smartfusion.types.metric.TimeRangeMetric" class="sphx-glr-backref-module-smartfusion-types-metric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap</span></a><span class="p">,</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">t_siaps</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a><span class="p">):</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_type</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap</span><span class="o">.</span><span class="n">title</span></a><span class="p">[:</span><span class="o">-</span><span class="mi">13</span><span class="p">]</span>  <span class="c1"># remove the &#39; at timestamp&#39; part</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set.html#matplotlib.axes.Axes.set" title="matplotlib.axes.Axes.set" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">axis</span><span class="o">.</span><span class="n">set</span></a><span class="p">(</span><span class="n">title</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap</span><span class="o">.</span><span class="n">title</span></a><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_type</span></a><span class="p">)</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.tick_params.html#matplotlib.axes.Axes.tick_params" title="matplotlib.axes.Axes.tick_params" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">axis</span><span class="o">.</span><span class="n">tick_params</span></a><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">axis</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">times</span></a><span class="p">,</span> <span class="p">[</span><span class="n">t_siap</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">t_siap</span> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap</span><span class="o">.</span><span class="n">value</span></a><span class="p">])</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Metrics_004.png" srcset="../../_images/sphx_glr_Metrics_004.png" alt="SIAP Velocity Accuracy at times, SIAP Completeness at times, SIAP Ambiguity at times, SIAP Spuriousness at times, SIAP Position Accuracy at times" class = "sphx-glr-single-img"/><p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p><em>D. Schuhmacher, B. Vo and B. Vo</em>, <strong>A Consistent Metric for Performance Evaluation of
Multi-Object Filters</strong>, IEEE Trans. Signal Processing 2008</p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p><em>Votruba, Paul &amp; Nisley, Rich &amp; Rothrock, Ron and Zombro, Brett.</em>, <strong>Single Integrated Air
Picture (SIAP) Metrics Implementation</strong>, 2001</p>
</dd>
</dl>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.713 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-tutorials-moreexamples-metrics-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/claycurry34/Smart-Fusion/main?filepath=notebooks/auto_tutorials/moreexamples/Metrics.ipynb"><img alt="Launch binder" src="../../_images/binder_badge_logo2.svg" width="150px" /></a>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/d92d6915836e9b7a3ec4bd99d2e0f2ca/Metrics.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">Metrics.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/c7a38b8a56f018ba58fe845465eaa529/Metrics.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">Metrics.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="MTT_3D_Platform.html" class="btn btn-neutral float-left" title="Multi-Target Tracking in 3D Using Platform Simulation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Moving_Platform_Simulation.html" class="btn btn-neutral float-right" title="Multi-Sensor Moving Platform Simulation Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2022 University of Oklahoma.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>