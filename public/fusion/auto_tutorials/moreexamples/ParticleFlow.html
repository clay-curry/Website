<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gromov Particle Flow Filter &mdash; SMART FUSION 0.1b11.dev6+g9121db30.d20220926 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Sensor Platform Simulation Example" href="Sensor_Platform_Simulation.html" />
    <link rel="prev" title="Multi-Sensor Moving Platform Simulation Example" href="Moving_Platform_Simulation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> SMART FUSION
            <img src="../../_static/smart_fusion_logo.jpeg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1b11.dev6+g9121db30.d20220926
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../design.html">Framework </a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#fundamentals">Fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#more-examples">More Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#sensor-management">Sensor Management</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#state-estimation">State Estimation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../fundamentals/index.html">Fundamentals</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">More Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Classifying_Using_HMM.html">Classification Using Hidden Markov Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="Creating_Actionable_Sensor.html">Creating an Actionable Sensor Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Disjoint_Tracking_Classification.html">Disjoint Tracking and Classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="MTT_3D_Platform.html">Multi-Target Tracking in 3D Using Platform Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Metrics.html">Metrics Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Moving_Platform_Simulation.html">Multi-Sensor Moving Platform Simulation Example</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Gromov Particle Flow Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="Sensor_Platform_Simulation.html">Sensor Platform Simulation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Smooth_Platform_Coordinate_Transitions.html">Creating Smooth Transitions Between Coordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="Track2Track_Fusion_Example.html">Multi-Sensor Fusion: Covariance Intersection Using Tracks as Measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="range_range_rate_binning.html">RangeRangeRateBinning measurement model example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sensormanagement/index.html">Sensor Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateestimation/index.html">State Estimation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../smartfusion.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_demos/index.html">Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright &amp; License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SMART FUSION</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
          <li><a href="index.html">More Examples</a> &raquo;</li>
      <li>Gromov Particle Flow Filter</li>
  
    
    
      
    
  
  <li class="wy-breadcrumbs-aside">
    <a href="https://github.com/claycurry34/Smart-Fusion/blob/main/docs/source/../tutorials/moreexamples/ParticleFlow.py" class="fa fa-github"> Edit on GitHub</a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-tutorials-moreexamples-particleflow-py"><span class="std std-ref">here</span></a>
to download the full example code or to run this example in your browser via Binder</p>
</div>
<section class="sphx-glr-example-title" id="gromov-particle-flow-filter">
<span id="sphx-glr-auto-tutorials-moreexamples-particleflow-py"></span><h1>Gromov Particle Flow Filter<a class="headerlink" href="#gromov-particle-flow-filter" title="Permalink to this heading"></a></h1>
<p>This example looks at utilising the Generalized Gromov method for stochastic particle flow filters.</p>
<section id="the-filter">
<h2>The Filter<a class="headerlink" href="#the-filter" title="Permalink to this heading"></a></h2>
<p>We use the simple exact formula solution <a class="footnote-reference brackets" href="#id3" id="id1">1</a> to the equation:</p>
<div class="math notranslate nohighlight">
\[\frac{\partial p}{\partial \lambda} =
-div(fp)+\frac{1}{2}div\left[Q(x)\frac{\partial p}{\partial x}\right]\]</div>
<p>where <span class="math notranslate nohighlight">\(p(x, λ)\)</span> is the conditional probability density of <span class="math notranslate nohighlight">\(x\)</span> as a function of
<span class="math notranslate nohighlight">\(λ\in [0, 1]\)</span>, <span class="math notranslate nohighlight">\(f\)</span> is the drift function and <span class="math notranslate nohighlight">\(Q\)</span> is the diffusion covariance.</p>
<p>Under the assumption that the prior density and likelihood are both multivariate Gaussian
densities, and that <span class="math notranslate nohighlight">\(Q\)</span> is a symmetric positive semi-definite matrix independent of
<span class="math notranslate nohighlight">\(x\)</span>, we have the simple exact formula:</p>
<div class="math notranslate nohighlight">
\[Q = [P^{-1}+\lambda H^{T}R^{-1}H]^{-1}H^{T}R^{-1}H[P^{-1}+\lambda H^{T}R^{-1}H]^{-1}\]</div>
<p>where <span class="math notranslate nohighlight">\(Q\)</span> can be guaranteed to be positive, semi-definite by taking</p>
<div class="math notranslate nohighlight">
\[Q \rightarrow \frac{Q + Q^{T}}{2}\]</div>
<p>Using <span class="math notranslate nohighlight">\(Q\)</span>, we can generate random samples of the diffusion for use in the stochastic flow
of particles.</p>
</section>
<section id="comparison">
<h2>Comparison<a class="headerlink" href="#comparison" title="Permalink to this heading"></a></h2>
<p>Comparing the bootstrap Smartfusion Particle filter, the Gromov particle flow filter, and the
Gromov particle flow filter with parallel EKF covariance computation (<a class="footnote-reference brackets" href="#id4" id="id2">2</a> using algorithm 2
with Gromov flow).</p>
<p>To note with particle flow, that resampling isn’t required and lower numbers of particles are
needed, as it doesn’t suffer the same issues of degeneracy as bootstrap particle filter.</p>
<section id="one-time-step">
<h3>One time-step<a class="headerlink" href="#one-time-step" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">multivariate_normal</span>

<span class="kn">from</span> <span class="nn">smartfusion.types.groundtruth</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthPath</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.models.measurement.nonlinear</span> <span class="kn">import</span> <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class"><span class="n">CartesianToBearingRange</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.detection</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class"><span class="n">Detection</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.predictor.particle</span> <span class="kn">import</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticlePredictor" title="smartfusion.predictor.particle.ParticlePredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class"><span class="n">ParticlePredictor</span></a><span class="p">,</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class"><span class="n">ParticleFlowKalmanPredictor</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.models.transition.linear</span> <span class="kn">import</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">,</span> \
    <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.updater.particle</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.ParticleUpdater" title="smartfusion.updater.particle.ParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class"><span class="n">ParticleUpdater</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowParticleUpdater" title="smartfusion.updater.particle.GromovFlowParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class"><span class="n">GromovFlowParticleUpdater</span></a><span class="p">,</span> \
    <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class"><span class="n">GromovFlowKalmanParticleUpdater</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.particle</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.particle.Particle" title="smartfusion.types.particle.Particle" class="sphx-glr-backref-module-smartfusion-types-particle sphx-glr-backref-type-py-class"><span class="n">Particle</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.numeric</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class"><span class="n">Probability</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.state</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.state.ParticleState" title="smartfusion.types.state.ParticleState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">ParticleState</span></a>

<a href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.seed.html#numpy.random.seed" title="numpy.random.seed" class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span></a><span class="p">(</span><span class="mi">2020</span><span class="p">)</span>

<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span></a><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthPath</span></a><span class="p">([</span>
    <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a> <span class="o">+</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="p">])</span>

<a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class"><span class="n">CartesianToBearingRange</span></a><span class="p">(</span>
    <span class="n">ndim_state</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">mapping</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">noise_covar</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">radians</span></a><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <span class="mi">1</span><span class="p">])</span>
<span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class"><span class="n">Detection</span></a><span class="p">(</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-method"><span class="n">measurement_model</span><span class="o">.</span><span class="n">function</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">,</span> <span class="n">noise</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                        <span class="n">timestamp</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span><span class="o">.</span><span class="n">timestamp</span></a><span class="p">,</span>
                        <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="o">=</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">)</span>

<a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">transition_model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">([</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.05</span><span class="p">),</span>
                                                          <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.05</span><span class="p">)])</span>

<a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticlePredictor" title="smartfusion.predictor.particle.ParticlePredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">p_predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticlePredictor" title="smartfusion.predictor.particle.ParticlePredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class"><span class="n">ParticlePredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">transition_model</span></a><span class="p">)</span>
<a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pfk_predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class"><span class="n">ParticleFlowKalmanPredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">transition_model</span></a><span class="p">)</span>  <span class="c1"># By default, parallels EKF</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictors</span></a> <span class="o">=</span> <span class="p">[</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticlePredictor" title="smartfusion.predictor.particle.ParticlePredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">p_predictor</span></a><span class="p">,</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticlePredictor" title="smartfusion.predictor.particle.ParticlePredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">p_predictor</span></a><span class="p">,</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pfk_predictor</span></a><span class="p">]</span>

<a href="../../smartfusion.updater.html#smartfusion.updater.particle.ParticleUpdater" title="smartfusion.updater.particle.ParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">p_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.ParticleUpdater" title="smartfusion.updater.particle.ParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class"><span class="n">ParticleUpdater</span></a><span class="p">(</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">)</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowParticleUpdater" title="smartfusion.updater.particle.GromovFlowParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">f_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowParticleUpdater" title="smartfusion.updater.particle.GromovFlowParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class"><span class="n">GromovFlowParticleUpdater</span></a><span class="p">(</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">)</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pfk_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class"><span class="n">GromovFlowKalmanParticleUpdater</span></a><span class="p">(</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">)</span>  <span class="c1"># By default, parallels EKF</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updaters</span></a> <span class="o">=</span> <span class="p">[</span><a href="../../smartfusion.updater.html#smartfusion.updater.particle.ParticleUpdater" title="smartfusion.updater.particle.ParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">p_updater</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowParticleUpdater" title="smartfusion.updater.particle.GromovFlowParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">f_updater</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pfk_updater</span></a><span class="p">]</span>

<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">number_particles</span></a> <span class="o">=</span> <span class="mi">1000</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">samples</span></a> <span class="o">=</span> <span class="n">multivariate_normal</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                  <a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]),</span>
                                  <span class="n">size</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">number_particles</span></a><span class="p">)</span>
<span class="c1"># Note weights not used in particle flow, so value won&#39;t effect it.</span>
<a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">weight</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class"><span class="n">Probability</span></a><span class="p">(</span><span class="mi">1</span><span class="o">/</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">number_particles</span></a><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particles</span></a> <span class="o">=</span> <span class="p">[</span>
    <a href="../../smartfusion.types.html#smartfusion.types.particle.Particle" title="smartfusion.types.particle.Particle" class="sphx-glr-backref-module-smartfusion-types-particle sphx-glr-backref-type-py-class"><span class="n">Particle</span></a><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">weight</span></a><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">weight</span></a><span class="p">)</span> <span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">samples</span></a><span class="p">]</span>
</pre></div>
</div>
<p>Run the filters</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">smartfusion.types.hypothesis</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleHypothesis" title="smartfusion.types.hypothesis.SingleHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class"><span class="n">SingleHypothesis</span></a>

<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="matplotlib.pyplot.figure" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span></a><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.add_subplot" title="matplotlib.figure.Figure.add_subplot" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.axis.html#matplotlib.axes.Axes.axis" title="matplotlib.axes.Axes.axis" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">axis</span></a><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">filters</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Particle&#39;</span><span class="p">,</span> <span class="s1">&#39;Particle Flow&#39;</span><span class="p">,</span> <span class="s1">&#39;Parallel EKF&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particle_counts</span></a> <span class="o">=</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colours</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>

<span class="k">for</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colour</span></a><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particle_count</span></a> \
        <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictors</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updaters</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colours</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">filters</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particle_counts</span></a><span class="p">):</span>
    <a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prior</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.ParticleState" title="smartfusion.types.state.ParticleState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">ParticleState</span></a><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">particle_list</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particles</span></a><span class="p">[:</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particle_count</span></a><span class="p">],</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a><span class="p">)</span>

    <a href="../../smartfusion.types.html#smartfusion.types.prediction.ParticleStatePrediction" title="smartfusion.types.prediction.ParticleStatePrediction" class="sphx-glr-backref-module-smartfusion-types-prediction sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prediction</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor.predict" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor.predict" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-method"><span class="n">predictor</span><span class="o">.</span><span class="n">predict</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prior</span></a><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span><span class="o">.</span><span class="n">timestamp</span></a><span class="p">)</span>
    <a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleHypothesis" title="smartfusion.types.hypothesis.SingleHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesis</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleHypothesis" title="smartfusion.types.hypothesis.SingleHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class"><span class="n">SingleHypothesis</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.prediction.ParticleStatePrediction" title="smartfusion.types.prediction.ParticleStatePrediction" class="sphx-glr-backref-module-smartfusion-types-prediction sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prediction</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">)</span>
    <a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">post</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater.update" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater.update" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-method"><span class="n">updater</span><span class="o">.</span><span class="n">update</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleHypothesis" title="smartfusion.types.hypothesis.SingleHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesis</span></a><span class="p">)</span>

    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib.axes.Axes.scatter" title="matplotlib.axes.Axes.scatter" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">scatter</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">post</span><span class="o">.</span><span class="n">state_vector</span></a><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:],</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">post</span><span class="o">.</span><span class="n">state_vector</span></a><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:],</span> <span class="n">color</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colour</span></a><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">filter</span><span class="p">)</span>

<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib.axes.Axes.scatter" title="matplotlib.axes.Axes.scatter" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">scatter</span></a><span class="p">(</span><span class="o">*</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span><span class="o">.</span><span class="n">state_vector</span></a><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.legend.html#matplotlib.axes.Axes.legend" title="matplotlib.axes.Axes.legend" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">legend</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_ParticleFlow_001.png" srcset="../../_images/sphx_glr_ParticleFlow_001.png" alt="ParticleFlow" class = "sphx-glr-single-img"/></section>
<section id="multiple-time-steps">
<h3>Multiple time-steps<a class="headerlink" href="#multiple-time-steps" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthPath</span></a><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a><span class="p">)])</span>
<span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">):</span>
    <a href="../../smartfusion.types.html#smartfusion.types.state.StateMutableSequence.append" title="smartfusion.types.state.StateMutableSequence.append" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-method"><span class="n">truth</span><span class="o">.</span><span class="n">append</span></a><span class="p">(</span>
        <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class"><span class="n">GroundTruthState</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel.function" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel.function" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-method"><span class="n">transition_model</span><span class="o">.</span><span class="n">function</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a><span class="p">[</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                                                   <span class="n">noise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                   <span class="n">time_interval</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">)),</span>
                         <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a><span class="o">+</span><a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span></a><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a><span class="p">))</span>
    <span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements</span></a> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a><span class="p">:</span>
    <a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a> <span class="o">=</span> <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-method"><span class="n">measurement_model</span><span class="o">.</span><span class="n">function</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthState" title="smartfusion.types.groundtruth.GroundTruthState" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span></a><span class="p">,</span> <span class="n">noise</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class"><span class="n">Detection</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">state</span><span class="o">.</span><span class="n">timestamp</span></a><span class="p">,</span>
                                  <a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="o">=</span><a href="../../smartfusion.models.measurement.html#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange" class="sphx-glr-backref-module-smartfusion-models-measurement-nonlinear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement_model</span></a><span class="p">))</span>


<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">number_particles</span></a> <span class="o">=</span> <span class="mi">1000</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">samples</span></a> <span class="o">=</span> <span class="n">multivariate_normal</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                  <a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]),</span>
                                  <span class="n">size</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">number_particles</span></a><span class="p">)</span>
<a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">weight</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class"><span class="n">Probability</span></a><span class="p">(</span><span class="mi">1</span><span class="o">/</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">number_particles</span></a><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particles</span></a> <span class="o">=</span> <span class="p">[</span><a href="../../smartfusion.types.html#smartfusion.types.particle.Particle" title="smartfusion.types.particle.Particle" class="sphx-glr-backref-module-smartfusion-types-particle sphx-glr-backref-type-py-class"><span class="n">Particle</span></a><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">weight</span></a><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability" class="sphx-glr-backref-module-smartfusion-types-numeric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">weight</span></a><span class="p">)</span>
             <span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">samples</span></a><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.resampler.particle</span> <span class="kn">import</span> <a href="../../smartfusion.resampler.html#smartfusion.resampler.particle.SystematicResampler" title="smartfusion.resampler.particle.SystematicResampler" class="sphx-glr-backref-module-smartfusion-resampler-particle sphx-glr-backref-type-py-class"><span class="n">SystematicResampler</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.track</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class"><span class="n">Track</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.dataassociator.tracktotrack</span> <span class="kn">import</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class"><span class="n">TrackToTruth</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.manager</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class"><span class="n">SimpleManager</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.tracktotruthmetrics</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class"><span class="n">SIAPMetrics</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.plotter</span> <span class="kn">import</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class"><span class="n">Plotter</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.measures</span> <span class="kn">import</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a>

<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updaters</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">resampler</span> <span class="o">=</span> <a href="../../smartfusion.resampler.html#smartfusion.resampler.particle.SystematicResampler" title="smartfusion.resampler.particle.SystematicResampler" class="sphx-glr-backref-module-smartfusion-resampler-particle sphx-glr-backref-type-py-class"><span class="n">SystematicResampler</span></a><span class="p">()</span>  <span class="c1"># Allow particle filter to re-sample</span>

<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pa</span></a> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_gen</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class"><span class="n">SIAPMetrics</span></a><span class="p">(</span><span class="n">position_measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">velocity_measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>

<span class="k">for</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="p">,</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colour</span></a><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particle_count</span></a> \
        <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictors</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updaters</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colours</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">filters</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particle_counts</span></a><span class="p">):</span>
    <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class"><span class="n">Track</span></a><span class="p">()</span>
    <a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prior</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.ParticleState" title="smartfusion.types.state.ParticleState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">ParticleState</span></a><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">particle_list</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particles</span></a><span class="p">[:</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">particle_count</span></a><span class="p">],</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a><span class="p">)</span>

    <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements</span></a><span class="p">:</span>
        <a href="../../smartfusion.types.html#smartfusion.types.prediction.ParticleStatePrediction" title="smartfusion.types.prediction.ParticleStatePrediction" class="sphx-glr-backref-module-smartfusion-types-prediction sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prediction</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.particle.ParticleFlowKalmanPredictor.predict" title="smartfusion.predictor.particle.ParticleFlowKalmanPredictor.predict" class="sphx-glr-backref-module-smartfusion-predictor-particle sphx-glr-backref-type-py-method"><span class="n">predictor</span><span class="o">.</span><span class="n">predict</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prior</span></a><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span><span class="o">.</span><span class="n">timestamp</span></a><span class="p">)</span>
        <a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleHypothesis" title="smartfusion.types.hypothesis.SingleHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesis</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleHypothesis" title="smartfusion.types.hypothesis.SingleHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class"><span class="n">SingleHypothesis</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.prediction.ParticleStatePrediction" title="smartfusion.types.prediction.ParticleStatePrediction" class="sphx-glr-backref-module-smartfusion-types-prediction sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prediction</span></a><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection" class="sphx-glr-backref-module-smartfusion-types-detection sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurement</span></a><span class="p">)</span>
        <a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">post</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.particle.GromovFlowKalmanParticleUpdater.update" title="smartfusion.updater.particle.GromovFlowKalmanParticleUpdater.update" class="sphx-glr-backref-module-smartfusion-updater-particle sphx-glr-backref-type-py-method"><span class="n">updater</span><span class="o">.</span><span class="n">update</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.hypothesis.SingleHypothesis" title="smartfusion.types.hypothesis.SingleHypothesis" class="sphx-glr-backref-module-smartfusion-types-hypothesis sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesis</span></a><span class="p">)</span>
        <a href="../../smartfusion.types.html#smartfusion.types.track.Track.append" title="smartfusion.types.track.Track.append" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-method"><span class="n">track</span><span class="o">.</span><span class="n">append</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">post</span></a><span class="p">)</span>
        <a href="../../smartfusion.types.html#smartfusion.types.update.ParticleStateUpdate" title="smartfusion.types.update.ParticleStateUpdate" class="sphx-glr-backref-module-smartfusion-types-update sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">prior</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter</span></a> <span class="o">=</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class"><span class="n">Plotter</span></a><span class="p">()</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_ground_truths" title="smartfusion.plotter.Plotter.plot_ground_truths" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_ground_truths</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_measurements" title="smartfusion.plotter.Plotter.plot_measurements" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_measurements</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">measurements</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_tracks" title="smartfusion.plotter.Plotter.plot_tracks" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_tracks</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">particle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colour</span></a><span class="p">)</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_title.html#matplotlib.axes.Axes.set_title" title="matplotlib.axes.Axes.set_title" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span></a><span class="p">(</span><span class="nb">filter</span><span class="p">)</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html#matplotlib.axes.Axes.set_xlim" title="matplotlib.axes.Axes.set_xlim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="matplotlib.axes.Axes.set_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_manager</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class"><span class="n">SimpleManager</span></a><span class="p">(</span>
        <span class="p">[</span><a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_gen</span></a><span class="p">],</span> <span class="n">associator</span><span class="o">=</span><a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class"><span class="n">TrackToTruth</span></a><span class="p">(</span><span class="n">association_threshold</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#float" title="builtins.float" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">inf</span></a><span class="p">))</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">metric_manager</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><span class="n">tracks</span><span class="o">=</span><span class="p">{</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">},</span> <span class="n">groundtruth_paths</span><span class="o">=</span><span class="p">{</span><a href="../../smartfusion.types.html#smartfusion.types.groundtruth.GroundTruthPath" title="smartfusion.types.groundtruth.GroundTruthPath" class="sphx-glr-backref-module-smartfusion-types-groundtruth sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth</span></a><span class="p">})</span>

    <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" title="smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">metric_manager</span><span class="o">.</span><span class="n">generate_metrics</span></a><span class="p">()</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pa</span></a><span class="p">[</span><span class="nb">filter</span><span class="p">]</span> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SIAP Position Accuracy at times&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img src="../../_images/sphx_glr_ParticleFlow_002.png" srcset="../../_images/sphx_glr_ParticleFlow_002.png" alt="Particle" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_ParticleFlow_003.png" srcset="../../_images/sphx_glr_ParticleFlow_003.png" alt="Particle Flow" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_ParticleFlow_004.png" srcset="../../_images/sphx_glr_ParticleFlow_004.png" alt="Parallel EKF" class = "sphx-glr-multi-img"/></li>
</ul>
</section>
<section id="positional-accuracy">
<h3>Positional Accuracy<a class="headerlink" href="#positional-accuracy" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.lines</span> <span class="kn">import</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D" class="sphx-glr-backref-module-matplotlib-lines sphx-glr-backref-type-py-class"><span class="n">Line2D</span></a>

<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig2</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="matplotlib.pyplot.figure" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span></a><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax2</span> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.add_subplot" title="matplotlib.figure.Figure.add_subplot" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.axis.html#matplotlib.axes.Axes.axis" title="matplotlib.axes.Axes.axis" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax2</span><span class="o">.</span><span class="n">axis</span></a><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

<span class="k">for</span> <span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <a href="../../smartfusion.types.html#smartfusion.types.metric.TimeRangeMetric" title="smartfusion.types.metric.TimeRangeMetric" class="sphx-glr-backref-module-smartfusion-types-metric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">value</span></a><span class="p">),</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colour</span></a> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pa</span></a><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colours</span></a><span class="p">):</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax2</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">value</span><span class="o">.</span><span class="n">value</span></a><span class="p">)),</span> <span class="p">[</span><span class="n">elem</span><span class="o">.</span><a href="../../smartfusion.types.html#smartfusion.types.metric.TimeRangeMetric" title="smartfusion.types.metric.TimeRangeMetric" class="sphx-glr-backref-module-smartfusion-types-metric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">value</span></a> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">value</span><span class="o">.</span><span class="n">value</span></a><span class="p">],</span> <span class="n">color</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colour</span></a><span class="p">)</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D" class="sphx-glr-backref-module-matplotlib-lines sphx-glr-backref-type-py-class"><span class="n">Line2D</span></a><span class="p">([],</span> <span class="p">[],</span> <span class="n">color</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">colour</span></a><span class="p">))</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">filter</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.legend.html#matplotlib.axes.Axes.legend" title="matplotlib.axes.Axes.legend" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax2</span><span class="o">.</span><span class="n">legend</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">handles</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="matplotlib.axes.Axes.set_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text" class="sphx-glr-backref-module-matplotlib-text sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">_</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_title.html#matplotlib.axes.Axes.set_title" title="matplotlib.axes.Axes.set_title" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span></a><span class="p">(</span><span class="s1">&#39;Positional Accuracy&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_ParticleFlow_005.png" srcset="../../_images/sphx_glr_ParticleFlow_005.png" alt="Positional Accuracy" class = "sphx-glr-single-img"/></section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Fred Daum, Jim Huang &amp; Arjang Noushin 2017, Generalized Gromov method for stochastic
particle flow filters</p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Tao Ding and Mark J. Coates 2012, IMPLEMENTATION OF THE DAUM-HUANG EXACT-FLOW PARTICLE
FILTER</p>
</dd>
</dl>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  9.118 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-tutorials-moreexamples-particleflow-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/claycurry34/Smart-Fusion/main?filepath=notebooks/auto_tutorials/moreexamples/ParticleFlow.ipynb"><img alt="Launch binder" src="../../_images/binder_badge_logo2.svg" width="150px" /></a>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/7c29ed61c0353834413389b78280a91c/ParticleFlow.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">ParticleFlow.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/78e7a5bab1dc8989180e9a0af629a8c8/ParticleFlow.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">ParticleFlow.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Moving_Platform_Simulation.html" class="btn btn-neutral float-left" title="Multi-Sensor Moving Platform Simulation Example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Sensor_Platform_Simulation.html" class="btn btn-neutral float-right" title="Sensor Platform Simulation Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2022 University of Oklahoma.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>