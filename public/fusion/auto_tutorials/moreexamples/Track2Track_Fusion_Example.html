<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multi-Sensor Fusion: Covariance Intersection Using Tracks as Measurements &mdash; SMART FUSION 0.1b11.dev6+g9121db30.d20220926 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="RangeRangeRateBinning measurement model example" href="range_range_rate_binning.html" />
    <link rel="prev" title="Creating Smooth Transitions Between Coordinates" href="Smooth_Platform_Coordinate_Transitions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> SMART FUSION
            <img src="../../_static/smart_fusion_logo.jpeg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1b11.dev6+g9121db30.d20220926
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../design.html">Framework </a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#fundamentals">Fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#more-examples">More Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#sensor-management">Sensor Management</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#state-estimation">State Estimation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../fundamentals/index.html">Fundamentals</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">More Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Classifying_Using_HMM.html">Classification Using Hidden Markov Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="Creating_Actionable_Sensor.html">Creating an Actionable Sensor Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Disjoint_Tracking_Classification.html">Disjoint Tracking and Classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="MTT_3D_Platform.html">Multi-Target Tracking in 3D Using Platform Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Metrics.html">Metrics Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Moving_Platform_Simulation.html">Multi-Sensor Moving Platform Simulation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="ParticleFlow.html">Gromov Particle Flow Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="Sensor_Platform_Simulation.html">Sensor Platform Simulation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="Smooth_Platform_Coordinate_Transitions.html">Creating Smooth Transitions Between Coordinates</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Multi-Sensor Fusion: Covariance Intersection Using Tracks as Measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="range_range_rate_binning.html">RangeRangeRateBinning measurement model example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sensormanagement/index.html">Sensor Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateestimation/index.html">State Estimation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../smartfusion.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_demos/index.html">Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright &amp; License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SMART FUSION</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
          <li><a href="index.html">More Examples</a> &raquo;</li>
      <li>Multi-Sensor Fusion: Covariance Intersection Using Tracks as Measurements</li>
  
    
    
      
    
  
  <li class="wy-breadcrumbs-aside">
    <a href="https://github.com/claycurry34/Smart-Fusion/blob/main/docs/source/../tutorials/moreexamples/Track2Track_Fusion_Example.py" class="fa fa-github"> Edit on GitHub</a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-tutorials-moreexamples-track2track-fusion-example-py"><span class="std std-ref">here</span></a>
to download the full example code or to run this example in your browser via Binder</p>
</div>
<section class="sphx-glr-example-title" id="multi-sensor-fusion-covariance-intersection-using-tracks-as-measurements">
<span id="sphx-glr-auto-tutorials-moreexamples-track2track-fusion-example-py"></span><h1>Multi-Sensor Fusion: Covariance Intersection Using Tracks as Measurements<a class="headerlink" href="#multi-sensor-fusion-covariance-intersection-using-tracks-as-measurements" title="Permalink to this heading"></a></h1>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this heading"></a></h2>
<p>The Covariance Intersection Algorithm from Julier and Uhlmann <a class="footnote-reference brackets" href="#id5" id="id1">1</a> is a popular algorithm for
track-to-track fusion in target tracking systems. This approach is highly appealing due to its
robustness, simple structure, and applicability to any tracking system that uses Gaussians as the
basis for tracking. Generalisations to non-Gaussian systems have been proposed based on the
exponential mixture density structure of the algorithm. The approach is based on a simple rule
called the Chernoff Fusion Rule. However, due to the non-Bayesian formulation of the rule, it
cannot be integrated straightforwardly into multi-target tracking algorithms which are based on
Bayesian formulations.</p>
<p>A new Bayesian formulation for covariance intersection was recently proposed which allows for the
integration of the approach into multi-target tracking algorithms. <a class="footnote-reference brackets" href="#id6" id="id2">2</a> The new formulation
recasts the fusion rule as a Bayesian update rule that calculates a normalisation constant which
enables integration into different multi-target tracking algorithms.</p>
<p>In this example we demonstrate the approach with different multi-target trackers in a
multi-platform scenario where the sensors output estimated target tracks instead of raw
measurements. In real life situations, such sensors make multi-target tracking more accessible to
new researchers because the researchers don’t have to know about or implement target filtering
and/or tracking algorithms on their own. However, when there are multiple sensors measuring the
same target space and they all produce estimated tracks, as demonstrated in this example, it is
not immediately clear how to combine this information into a single set of tracks. This is where
covariance intersection comes in.</p>
<p>The concept of covariance intersection relies on the aforementioned Chernoff fusion rule <a class="footnote-reference brackets" href="#id7" id="id3">3</a> :</p>
<div class="math notranslate nohighlight">
\[p_{\omega}(x_{k}) = \frac{p_{1}(x_{k})^{\omega}p_{2}(x_{k})^{1-\omega}}{\int p_{1}(x)^{\omega}p_{2}(x)^{1-\omega}dx}\]</div>
<p>In situations where <span class="math notranslate nohighlight">\(p_1(x)\)</span> and <span class="math notranslate nohighlight">\(p_2(x)\)</span> are multivariate Gaussian distributions,
this formula is equal to the Covariance Intersection Algorithm from Julier and Uhlmann. In the
Covariance Intersection Algorithm, the weighting parameter, <span class="math notranslate nohighlight">\(\omega \in [0, 1]\)</span> is chosen
using an optimization algorithm. In this example, we have set it to <span class="math notranslate nohighlight">\(0.5\)</span> for simplicity.</p>
<p>We also introduce the following identity. Given two Gaussians, <span class="math notranslate nohighlight">\(N(x ; a, A)\)</span> and
<span class="math notranslate nohighlight">\(N(x ; b, B)\)</span> with the same dimension, we have:</p>
<div class="math notranslate nohighlight">
\[\left({\frac{\mathcal{N}(x ; a, A)}{\mathcal{N}(x ; a, A)}}\right)^\omega \mathcal{N}(x ; b,  B) \propto \mathcal{N}(a ; b,  V) \mathcal{N}(x ; d,  D)\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\begin{split}D &amp;= \left(\omega A^{-1}+(1-\omega) B^{-1}\right)^{-1} \\
d &amp;= D\left(\omega A^{-1} {a}+(1-\omega ) B^{-1} {b}\right) \\
V &amp;= A/(1-\omega )+ B/\omega\end{split}\]</div>
<p>This example considers the Gaussian mixture probability hypothesis density (GM-PHD) algorithm
as the tracker for the track-to-track fusion. The following table shows the formulas used in the
regular GM-PHD, and the GM-PHD covariance intersector algorithm.</p>
<a class="reference internal image-reference" href="../../_images/covariance_intersection_formulas.png"><img alt="Formulas for the posterior/fused intensity, gaussian components, updated weight, updated mean, updated covariance, innovation, Kalman gain, and innovation covariance in the GM-PHD and the GM-PHD Covariance Intersector algorithm." src="../../_images/covariance_intersection_formulas.png" style="width: 700px;" /></a>
<p>The specifics for implementing the Covariance Intersection Algorithm in several popular
multi-target tracking algorithms was expanded upon recently by Clark et al <a class="footnote-reference brackets" href="#id8" id="id4">4</a>. The work
includes a discussion of SMART FUSION and and is used as the basis for this example.</p>
<dl class="simple">
<dt>The rest of this example will continue as follows:</dt><dd><ul class="simple">
<li><p>Create a simulator for the ground truth</p></li>
<li><p>Create 2 radar simulators, one on the ground and one that is airborne</p></li>
<li><p>Make a JPDA tracker for the first radar, and a Gaussian mixture linear complexity with
cumulants (GM-LCC) tracker for the second. These will mimic the situation where the radar
sensors outputs tracks instead of raw measurements.</p></li>
<li><p>Create a GM-PHD tracker that will perform measurement fusion, using all measurements from
both radars. This is created to compare with the covariance intersection method.</p></li>
<li><p>Create a GM-PHD tracker that will perform track fusion via covariance intersection using
the <code class="xref py py-class docutils literal notranslate"><span class="pre">ChernoffUpdater</span></code> class.</p></li>
<li><p>Create metric managers for each of the four trackers</p></li>
<li><p>Set up the detection feeders. Each tracker will receive measurements using a custom
<code class="xref py py-class docutils literal notranslate"><span class="pre">DummyDetector</span></code> class. The track fusion tracker will also use the
<code class="xref py py-class docutils literal notranslate"><span class="pre">Tracks2GaussianDetectionFeeder</span></code> class.</p></li>
<li><p>Run the simulation</p></li>
<li><p>Plot the resulting tracks and the metrics over time</p></li>
</ul>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_steps</span></a> <span class="o">=</span> <span class="mi">50</span>
</pre></div>
</div>
</section>
<section id="create-a-ground-truth-simulator">
<h2>1: Create a Ground Truth Simulator<a class="headerlink" href="#create-a-ground-truth-simulator" title="Permalink to this heading"></a></h2>
<p>We will simulate the paths of two targets using the <a class="reference internal" href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiTargetGroundTruthSimulator</span></code></a>.
We can dictate the starting states of the two targets using the <cite>preexisting_states</cite> parameter.
The targets start at [-100, -200, 500] and [0, 300, 500] respectively. Their initial velocities
are [4, 0.5, 0] and [5, -0.5, 0] and they move according to a constant velocity transition model
with noise.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.models.transition.linear</span> <span class="kn">import</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">,</span>\
                                               <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a>
<a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth_transition_model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">(</span>
    <span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.5</span><span class="p">)))</span>

<span class="kn">from</span> <span class="nn">smartfusion.simulator.simple</span> <span class="kn">import</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetGroundTruthSimulator</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.state</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a>
<a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gt_simulator</span></a> <span class="o">=</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetGroundTruthSimulator</span></a><span class="p">(</span>
    <span class="n">transition_model</span><span class="o">=</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth_transition_model</span></a><span class="p">,</span>
    <a href="../../smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state</span></a><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a><span class="p">),</span>
    <span class="n">birth_rate</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">death_probability</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">number_steps</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_steps</span></a><span class="p">,</span>
    <span class="n">preexisting_states</span><span class="o">=</span><span class="p">[[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="create-two-radars-and-a-detection-simulation">
<h2>2: Create Two Radars and a Detection Simulation<a class="headerlink" href="#create-two-radars-and-a-detection-simulation" title="Permalink to this heading"></a></h2>
<p>The two radars can share the same clutter model.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.models.clutter.clutter</span> <span class="kn">import</span> <a href="../../smartfusion.models.clutter.html#smartfusion.models.clutter.ClutterModel" title="smartfusion.models.clutter.ClutterModel" class="sphx-glr-backref-module-smartfusion-models-clutter sphx-glr-backref-type-py-class"><span class="n">ClutterModel</span></a>
<a href="../../smartfusion.models.clutter.html#smartfusion.models.clutter.ClutterModel" title="smartfusion.models.clutter.ClutterModel" class="sphx-glr-backref-module-smartfusion-models-clutter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.clutter.html#smartfusion.models.clutter.ClutterModel" title="smartfusion.models.clutter.ClutterModel" class="sphx-glr-backref-module-smartfusion-models-clutter sphx-glr-backref-type-py-class"><span class="n">ClutterModel</span></a><span class="p">(</span>
    <span class="n">clutter_rate</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>
    <span class="n">distribution</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/random/generator.html#numpy.random.default_rng" title="numpy.random.default_rng" class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span></a><span class="p">()</span><span class="o">.</span><span class="n">uniform</span><span class="p">,</span>
    <span class="n">dist_params</span><span class="o">=</span><span class="p">((</span><span class="o">-</span><span class="mf">600.0</span><span class="p">,</span> <span class="mf">600.0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">600.0</span><span class="p">,</span> <span class="mf">600.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">250.0</span><span class="p">,</span> <span class="mf">750.0</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The first radar will be airborne, at an altitude of approximately 3000 m. It makes detections
with an elevation, bearing, and range measurement model. By setting the <cite>max_range</cite> to 3500, we
can ensure that it does not make detections of the other radar (which will be far away on the
ground). We will later do a similar thing with the second radar. This mimics a real-life scenario
where each radar is outside the field-of-view of the other.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.sensor.radar.radar</span> <span class="kn">import</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">RadarElevationBearingRange</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.array</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">CovarianceMatrix</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.array</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">StateVector</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.platform.base</span> <span class="kn">import</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">MovingPlatform</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.state</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">State</span></a>

<span class="n">radar1</span> <span class="o">=</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">RadarElevationBearingRange</span></a><span class="p">(</span>
    <span class="n">ndim_state</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="n">position_mapping</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="n">noise_covar</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">CovarianceMatrix</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span></a><span class="p">(</span><span class="mf">0.005</span><span class="p">),</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span></a><span class="p">(</span><span class="mf">0.005</span><span class="p">),</span> <span class="mf">0.05</span><span class="p">])),</span>
    <span class="n">mounting_offset</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">StateVector</span></a><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
    <a href="../../smartfusion.models.clutter.html#smartfusion.models.clutter.ClutterModel" title="smartfusion.models.clutter.ClutterModel" class="sphx-glr-backref-module-smartfusion-models-clutter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span></a><span class="o">=</span><a href="../../smartfusion.models.clutter.html#smartfusion.models.clutter.ClutterModel" title="smartfusion.models.clutter.ClutterModel" class="sphx-glr-backref-module-smartfusion-models-clutter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span></a><span class="p">,</span>
    <span class="n">max_range</span><span class="o">=</span><span class="mi">3500</span>
<span class="p">)</span>

<span class="c1"># Mount the radar onto a moving platform. The platform starts at [-250, 50, 3000]</span>
<span class="c1"># with velocity [1, 5, 0] and moves according to a constant velocity model with low noise</span>
<a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_initial_loc</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">StateVector</span></a><span class="p">([[</span><span class="o">-</span><span class="mi">250</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">3000</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<a href="../../smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">State</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_initial_loc</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a><span class="p">)</span>
<a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_transition_model</span></a> <span class="o">=</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">CombinedLinearGaussianTransitionModel</span></a><span class="p">(</span>
    <span class="p">[</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.3</span><span class="p">),</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.3</span><span class="p">),</span> <a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.ConstantVelocity" title="smartfusion.models.transition.linear.ConstantVelocity" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class"><span class="n">ConstantVelocity</span></a><span class="p">(</span><span class="mf">0.3</span><span class="p">)])</span>
<span class="n">sensor1_platform</span> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">MovingPlatform</span></a><span class="p">(</span>
    <span class="n">states</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initial_state</span></a><span class="p">,</span>
    <span class="n">position_mapping</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="n">velocity_mapping</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="n">transition_model</span><span class="o">=</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_transition_model</span></a><span class="p">,</span>
    <span class="n">sensors</span><span class="o">=</span><span class="p">[</span><span class="n">radar1</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The second radar will be stationary on the ground at the point [2000, 50, 0]. This radar also
measures in 3D using bearing, range, and elevation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar2_noise_covar</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">CovarianceMatrix</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span></a><span class="p">(</span><span class="mf">0.005</span><span class="p">),</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span></a><span class="p">(</span><span class="mf">0.005</span><span class="p">),</span> <span class="mf">0.05</span><span class="p">]))</span>
<span class="n">radar2</span> <span class="o">=</span> <a href="../../smartfusion.sensor.html#smartfusion.sensor.sensor.Sensor" title="smartfusion.sensor.sensor.Sensor" class="sphx-glr-backref-module-smartfusion-sensor-sensor sphx-glr-backref-type-py-class"><span class="n">RadarElevationBearingRange</span></a><span class="p">(</span>
    <span class="n">ndim_state</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="n">position_mapping</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="n">noise_covar</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar2_noise_covar</span></a><span class="p">,</span>
    <a href="../../smartfusion.models.clutter.html#smartfusion.models.clutter.ClutterModel" title="smartfusion.models.clutter.ClutterModel" class="sphx-glr-backref-module-smartfusion-models-clutter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span></a><span class="o">=</span><a href="../../smartfusion.models.clutter.html#smartfusion.models.clutter.ClutterModel" title="smartfusion.models.clutter.ClutterModel" class="sphx-glr-backref-module-smartfusion-models-clutter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span></a><span class="p">,</span>
    <span class="n">max_range</span><span class="o">=</span><span class="mi">3000</span>
<span class="p">)</span>

<span class="c1"># Make a platform and mount the radar</span>
<span class="kn">from</span> <span class="nn">smartfusion.platform.base</span> <span class="kn">import</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">FixedPlatform</span></a>
<span class="n">sensor2_platform</span> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">FixedPlatform</span></a><span class="p">(</span>
    <a href="../../smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">State</span></a><span class="p">([</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
    <span class="n">position_mapping</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="n">sensors</span><span class="o">=</span><span class="p">[</span><span class="n">radar2</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Now we can pass the platforms into a detection simulator. At each timestep, the simulator will
return the detections from the <cite>sensor1_platform</cite>, then the detections from the
<cite>sensor2_platform</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.simulator.platform</span> <span class="kn">import</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator" title="smartfusion.simulator.platform.PlatformDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-class"><span class="n">PlatformDetectionSimulator</span></a>
<a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator" title="smartfusion.simulator.platform.PlatformDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar_simulator</span></a> <span class="o">=</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator" title="smartfusion.simulator.platform.PlatformDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-class"><span class="n">PlatformDetectionSimulator</span></a><span class="p">(</span>
    <span class="n">groundtruth</span><span class="o">=</span><a href="../../smartfusion.simulator.html#smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" title="smartfusion.simulator.simple.MultiTargetGroundTruthSimulator" class="sphx-glr-backref-module-smartfusion-simulator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gt_simulator</span></a><span class="p">,</span>
    <span class="n">platforms</span><span class="o">=</span><span class="p">[</span><span class="n">sensor1_platform</span><span class="p">,</span> <span class="n">sensor2_platform</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Let’s briefly visualize the truths and measurements before we move on. Note that the final
simulation will not have the same truths because the ground truth generator is randomized. But
this gives an idea of what it will look like. The detections from the first sensor (airborne)
will be plotted in blue, and the detections from the second sensor are in red. The clutter from
both sensors are plotted in yellow. The sensor locations will be plotted in green Xs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.plotter</span> <span class="kn">import</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class"><span class="n">Plotter</span></a><span class="p">,</span> <span class="n">Dimension</span>

<span class="c1"># Lists to hold the detections from each sensor and the path of the airborne radar</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1_detections</span></a> <span class="o">=</span> <span class="p">[]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2_detections</span></a> <span class="o">=</span> <span class="p">[]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar1_path</span></a> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Extract the generator function from a copy of the simulator</span>
<a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator" title="smartfusion.simulator.platform.PlatformDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sim</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator" title="smartfusion.simulator.platform.PlatformDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar_simulator</span></a><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator.detections_gen" title="smartfusion.simulator.platform.PlatformDetectionSimulator.detections_gen" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-method"><span class="n">sim</span><span class="o">.</span><span class="n">detections_gen</span></a><span class="p">()</span>

<span class="c1"># Iterate over the time steps, extracting the detections, truths, and airborne sensor path</span>
<span class="k">for</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">_</span></a> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_steps</span></a><span class="p">):</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1_detections</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2_detections</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar1_path</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sim</span><span class="o">.</span><span class="n">platforms</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truths</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator" title="smartfusion.simulator.platform.PlatformDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sim</span></a><span class="o">.</span><span class="n">groundtruth</span><span class="o">.</span><span class="n">groundtruth_paths</span><span class="p">)</span>

<span class="c1"># Plot the truths and detections</span>
<a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter</span></a> <span class="o">=</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class"><span class="n">Plotter</span></a><span class="p">(</span><span class="n">dimension</span><span class="o">=</span><a href="../../smartfusion.plotter.html#smartfusion.plotter.Dimension" title="smartfusion.plotter.Dimension" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">Dimension</span><span class="o">.</span><span class="n">THREE</span></a><span class="p">)</span>
<a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_ground_truths" title="smartfusion.plotter.Plotter.plot_ground_truths" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_ground_truths</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truths</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_measurements" title="smartfusion.plotter.Plotter.plot_measurements" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_measurements</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1_detections</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_measurements" title="smartfusion.plotter.Plotter.plot_measurements" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_measurements</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2_detections</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="c1"># Plot the radar positions</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span><span class="o">*</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar1_path</span></a><span class="p">),</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_Track2Track_Fusion_Example_001.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_001.png" alt="Track2Track Fusion Example" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&lt;mpl_toolkits.mplot3d.art3d.Line3D object at 0x16d458fd0&gt;]
</pre></div>
</div>
</section>
<section id="make-trackers-for-the-radars">
<h2>3: Make Trackers for the Radars<a class="headerlink" href="#make-trackers-for-the-radars" title="Permalink to this heading"></a></h2>
<p>The airborne radar will be tracking using a JPDA tracker, and the stationary one will use a
GM-LCC. These trackers will not be given the platform detection simulation objects as parameters,
we will feed the measurements later to ensure that that the same measurements are used in the
fusion trackers.
To start, we can calculate the clutter spatial density.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_area</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.prod.html#numpy.prod" title="numpy.prod" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">prod</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diff.html#numpy.diff" title="numpy.diff" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diff</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span><span class="o">.</span><span class="n">dist_params</span></a><span class="p">))</span>
<a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/functions.html#float" title="builtins.float" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span><span class="o">.</span><span class="n">clutter_rate</span></a><span class="o">/</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_area</span></a>
</pre></div>
</div>
<section id="jpda-tracker">
<h3>JPDA Tracker<a class="headerlink" href="#jpda-tracker" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.probability</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.probability.PDAHypothesiser" title="smartfusion.hypothesiser.probability.PDAHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-probability sphx-glr-backref-type-py-class"><span class="n">PDAHypothesiser</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.updater.kalman</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanUpdater</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.predictor.kalman</span> <span class="kn">import</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanPredictor</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.dataassociator.probability</span> <span class="kn">import</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.probability.JPDA" title="smartfusion.dataassociator.probability.JPDA" class="sphx-glr-backref-module-smartfusion-dataassociator-probability sphx-glr-backref-type-py-class"><span class="n">JPDA</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.deleter.error</span> <span class="kn">import</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class"><span class="n">CovarianceBasedDeleter</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.initiator.simple</span> <span class="kn">import</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class"><span class="n">MultiMeasurementInitiator</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.tracker.simple</span> <span class="kn">import</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetMixtureTracker" title="smartfusion.tracker.simple.MultiTargetMixtureTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetMixtureTracker</span></a>

<span class="c1"># Updater</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanUpdater</span></a><span class="p">(</span><span class="n">measurement_model</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># Data Associator</span>
<a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanPredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth_transition_model</span></a><span class="p">)</span>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.probability.PDAHypothesiser" title="smartfusion.hypothesiser.probability.PDAHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-probability sphx-glr-backref-type-py-class"><span class="n">PDAHypothesiser</span></a><span class="p">(</span>
    <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="o">=</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_updater</span></a><span class="p">,</span>
    <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a><span class="p">,</span>
    <span class="n">prob_detect</span><span class="o">=</span><span class="mf">0.9</span>
<span class="p">)</span>
<a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.probability.JPDA" title="smartfusion.dataassociator.probability.JPDA" class="sphx-glr-backref-module-smartfusion-dataassociator-probability sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a> <span class="o">=</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.probability.JPDA" title="smartfusion.dataassociator.probability.JPDA" class="sphx-glr-backref-module-smartfusion-dataassociator-probability sphx-glr-backref-type-py-class"><span class="n">JPDA</span></a><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="o">=</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="p">)</span>

<span class="c1"># Deleter</span>
<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">covariance_limit_for_delete</span></a> <span class="o">=</span> <span class="mi">500</span>
<a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a> <span class="o">=</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class"><span class="n">CovarianceBasedDeleter</span></a><span class="p">(</span><span class="n">covar_trace_thresh</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">covariance_limit_for_delete</span></a><span class="p">)</span>

<span class="c1"># Initiator</span>
<a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s_prior_state</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">GaussianState</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">]))</span>
<span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.distance</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.measures</span> <span class="kn">import</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a><span class="p">(</span>
    <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_updater</span></a><span class="p">,</span>
    <span class="n">measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a><span class="p">(),</span>
    <span class="n">missed_distance</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">smartfusion.dataassociator.neighbour</span> <span class="kn">import</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class"><span class="n">GNNWith2DAssignment</span></a>
<a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator_associator</span></a> <span class="o">=</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class"><span class="n">GNNWith2DAssignment</span></a><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="p">)</span>
<a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator_deleter</span></a> <span class="o">=</span> <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class"><span class="n">CovarianceBasedDeleter</span></a><span class="p">(</span><span class="n">covar_trace_thresh</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a> <span class="o">=</span> <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class"><span class="n">MultiMeasurementInitiator</span></a><span class="p">(</span>
    <span class="n">prior_state</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.state.GaussianState" title="smartfusion.types.state.GaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s_prior_state</span></a><span class="p">,</span>
    <span class="n">measurement_model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="o">=</span><a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator_deleter</span></a><span class="p">,</span>
    <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.probability.JPDA" title="smartfusion.dataassociator.probability.JPDA" class="sphx-glr-backref-module-smartfusion-dataassociator-probability sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="o">=</span><a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.neighbour.GNNWith2DAssignment" title="smartfusion.dataassociator.neighbour.GNNWith2DAssignment" class="sphx-glr-backref-module-smartfusion-dataassociator-neighbour sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator_associator</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_updater</span></a><span class="p">,</span>
    <span class="n">min_points</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>

<a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetMixtureTracker" title="smartfusion.tracker.simple.MultiTargetMixtureTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracker</span></a> <span class="o">=</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetMixtureTracker" title="smartfusion.tracker.simple.MultiTargetMixtureTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class"><span class="n">MultiTargetMixtureTracker</span></a><span class="p">(</span>
    <a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a><span class="o">=</span><a href="../../smartfusion.initiator.html#smartfusion.initiator.simple.MultiMeasurementInitiator" title="smartfusion.initiator.simple.MultiMeasurementInitiator" class="sphx-glr-backref-module-smartfusion-initiator-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">initiator</span></a><span class="p">,</span>
    <a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="o">=</span><a href="../../smartfusion.deleter.html#smartfusion.deleter.error.CovarianceBasedDeleter" title="smartfusion.deleter.error.CovarianceBasedDeleter" class="sphx-glr-backref-module-smartfusion-deleter-error sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">deleter</span></a><span class="p">,</span>
    <span class="n">detector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.probability.JPDA" title="smartfusion.dataassociator.probability.JPDA" class="sphx-glr-backref-module-smartfusion-dataassociator-probability sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="o">=</span><a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.probability.JPDA" title="smartfusion.dataassociator.probability.JPDA" class="sphx-glr-backref-module-smartfusion-dataassociator-probability sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_associator</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_updater</span></a>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="gm-lcc-tracker">
<h3>GM-LCC Tracker<a class="headerlink" href="#gm-lcc-tracker" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.updater.pointprocess</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.LCCUpdater" title="smartfusion.updater.pointprocess.LCCUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class"><span class="n">LCCUpdater</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.distance</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.measures</span> <span class="kn">import</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.hypothesiser.gaussianmixture</span> <span class="kn">import</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class"><span class="n">GaussianMixtureHypothesiser</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.mixturereducer.gaussianmixture</span> <span class="kn">import</span> <a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class"><span class="n">GaussianMixtureReducer</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.types.state</span> <span class="kn">import</span> <a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">TaggedWeightedGaussianState</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.tracker.pointprocess</span> <span class="kn">import</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class"><span class="n">PointProcessMultiTargetTracker</span></a>

<span class="c1"># Updater</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanUpdater</span></a><span class="p">(</span><span class="n">measurement_model</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.LCCUpdater" title="smartfusion.updater.pointprocess.LCCUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class"><span class="n">LCCUpdater</span></a><span class="p">(</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_updater</span></a><span class="p">,</span>
    <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a><span class="p">,</span>
    <span class="n">normalisation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">prob_detection</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">prob_survival</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">mean_number_of_false_alarms</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#float" title="builtins.float" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">clutter_model</span><span class="o">.</span><span class="n">clutter_rate</span></a><span class="p">,</span>
    <span class="n">variance_of_false_alarms</span><span class="o">=</span><span class="mi">100</span>
<span class="p">)</span>

<span class="c1"># Hypothesiser</span>
<a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanPredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth_transition_model</span></a><span class="p">)</span>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a><span class="p">(</span>
    <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">predictor</span></a><span class="o">=</span><a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_predictor</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_updater</span></a><span class="p">,</span>
    <span class="n">measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Mahalanobis" title="smartfusion.measures.Mahalanobis" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Mahalanobis</span></a><span class="p">(),</span>
    <span class="n">missed_distance</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
    <span class="n">include_all</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class"><span class="n">GaussianMixtureHypothesiser</span></a><span class="p">(</span>
    <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_hypothesiser</span></a><span class="p">,</span>
    <span class="n">order_by_detection</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Reducer</span>
<a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">reducer</span></a> <span class="o">=</span> <a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class"><span class="n">GaussianMixtureReducer</span></a><span class="p">(</span>
    <span class="n">prune_threshold</span><span class="o">=</span><span class="mf">1E-3</span><span class="p">,</span>
    <span class="n">pruning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">merge_threshold</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">merging</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Birth component</span>
<a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_covar</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">CovarianceMatrix</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_component</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">TaggedWeightedGaussianState</span></a><span class="p">(</span>
    <span class="n">state_vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="n">covar</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_covar</span></a><span class="o">**</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">weight</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">tag</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">TaggedWeightedGaussianState</span><span class="o">.</span><span class="n">BIRTH</span></a><span class="p">,</span>
    <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a>
<span class="p">)</span>

<span class="c1"># Tracker</span>
<a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracker</span></a> <span class="o">=</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class"><span class="n">PointProcessMultiTargetTracker</span></a><span class="p">(</span>
    <span class="n">detector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="p">),</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">),</span>
    <a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">reducer</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">reducer</span></a><span class="p">),</span>
    <a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_component</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_component</span></a><span class="p">),</span>
    <span class="n">extraction_threshold</span><span class="o">=</span><span class="mf">0.90</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="make-gm-phd-tracker-for-measurement-fusion">
<h2>4: Make GM-PHD Tracker For Measurement Fusion<a class="headerlink" href="#make-gm-phd-tracker-for-measurement-fusion" title="Permalink to this heading"></a></h2>
<p>This tracker can use many of the same elements as the GM-LCC one.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.updater.pointprocess</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class"><span class="n">PHDUpdater</span></a>

<a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class"><span class="n">PHDUpdater</span></a><span class="p">(</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.kalman.ExtendedKalmanUpdater" title="smartfusion.updater.kalman.ExtendedKalmanUpdater" class="sphx-glr-backref-module-smartfusion-updater-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_updater</span></a><span class="p">,</span>
    <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a><span class="p">,</span>
    <span class="n">prob_detection</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">prob_survival</span><span class="o">=</span><span class="mf">0.9</span>
<span class="p">)</span>

<a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracker</span></a> <span class="o">=</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class"><span class="n">PointProcessMultiTargetTracker</span></a><span class="p">(</span>
    <span class="n">detector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="p">),</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">),</span>
    <a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">reducer</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">reducer</span></a><span class="p">),</span>
    <a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_component</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_component</span></a><span class="p">),</span>
    <span class="n">extraction_threshold</span><span class="o">=</span><span class="mf">0.90</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="define-a-gm-phd-tracker-for-track-fusion">
<h2>5: Define a GM-PHD Tracker for Track Fusion<a class="headerlink" href="#define-a-gm-phd-tracker-for-track-fusion" title="Permalink to this heading"></a></h2>
<p>Track fusion using covariance intersection is implemented in SMART FUSION using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">ChernoffUpdater</span></code> class. For use in a GM-PHD, we insert the <code class="xref py py-class docutils literal notranslate"><span class="pre">ChernoffUpdater</span></code> as
the base updater, instead of a typical <a class="reference internal" href="../../smartfusion.updater.html#smartfusion.updater.kalman.KalmanUpdater" title="smartfusion.updater.kalman.KalmanUpdater"><code class="xref py py-class docutils literal notranslate"><span class="pre">KalmanUpdater</span></code></a>. The <cite>clutter_spatial_density</cite>
parameter now refers to the estimated intensity of false tracks. Since the previous tracker will
(hopefully) have ignored some of the clutter, we can use a smaller intensity than in the previous
trackers. The <cite>omega</cite> parameter is also adjustable. We will set it to 0.5 for now.</p>
<p>The remaining tracker parameters have been kept the same as the measurement fusion tracker except
where noted. This will ensure a fair comparison of the results.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.updater.chernoff</span> <span class="kn">import</span> <a href="../../smartfusion.updater.html#smartfusion.updater.chernoff.ChernoffUpdater" title="smartfusion.updater.chernoff.ChernoffUpdater" class="sphx-glr-backref-module-smartfusion-updater-chernoff sphx-glr-backref-type-py-class"><span class="n">ChernoffUpdater</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.measures</span> <span class="kn">import</span> <a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a>

<span class="c1"># Updater</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.chernoff.ChernoffUpdater" title="smartfusion.updater.chernoff.ChernoffUpdater" class="sphx-glr-backref-module-smartfusion-updater-chernoff sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ch_updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.chernoff.ChernoffUpdater" title="smartfusion.updater.chernoff.ChernoffUpdater" class="sphx-glr-backref-module-smartfusion-updater-chernoff sphx-glr-backref-type-py-class"><span class="n">ChernoffUpdater</span></a><span class="p">(</span><span class="n">measurement_model</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a> <span class="o">=</span> <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class"><span class="n">PHDUpdater</span></a><span class="p">(</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.chernoff.ChernoffUpdater" title="smartfusion.updater.chernoff.ChernoffUpdater" class="sphx-glr-backref-module-smartfusion-updater-chernoff sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ch_updater</span></a><span class="p">,</span>
    <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">clutter_spatial_density</span></a><span class="o">=</span><span class="mf">1E-15</span><span class="p">,</span>
    <span class="n">prob_detection</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">prob_survival</span><span class="o">=</span><span class="mf">0.9</span>
<span class="p">)</span>


<span class="c1"># Hypothesiser</span>
<span class="c1"># The states being used as measurements are in Cartesian space. We will use Euclidean distance in</span>
<span class="c1"># the :class:`~.DistanceHypothesiser`, meaning that we need a bigger missed distance than the</span>
<span class="c1"># previous hypothesiser which used the Mahalanobis distance.</span>
<a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_predictor</span></a> <span class="o">=</span> <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class"><span class="n">ExtendedKalmanPredictor</span></a><span class="p">(</span><a href="../../smartfusion.models.transition.html#smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" title="smartfusion.models.transition.linear.CombinedLinearGaussianTransitionModel" class="sphx-glr-backref-module-smartfusion-models-transition-linear sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truth_transition_model</span></a><span class="p">)</span>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class"><span class="n">DistanceHypothesiser</span></a><span class="p">(</span>
    <a href="../../smartfusion.predictor.html#smartfusion.predictor.kalman.ExtendedKalmanPredictor" title="smartfusion.predictor.kalman.ExtendedKalmanPredictor" class="sphx-glr-backref-module-smartfusion-predictor-kalman sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">kalman_predictor</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.chernoff.ChernoffUpdater" title="smartfusion.updater.chernoff.ChernoffUpdater" class="sphx-glr-backref-module-smartfusion-updater-chernoff sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ch_updater</span></a><span class="p">,</span>
    <a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">(),</span>
    <span class="n">missed_distance</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">include_all</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a> <span class="o">=</span> <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class"><span class="n">GaussianMixtureHypothesiser</span></a><span class="p">(</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.distance.DistanceHypothesiser" title="smartfusion.hypothesiser.distance.DistanceHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-distance sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_hypothesiser</span></a><span class="p">,</span> <span class="n">order_by_detection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Reducer</span>
<span class="c1"># The states tend to have low weights when they are first initialized using this method, so we will</span>
<span class="c1"># keep the pruning threshold low.</span>
<a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ch_reducer</span></a> <span class="o">=</span> <a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class"><span class="n">GaussianMixtureReducer</span></a><span class="p">(</span>
    <span class="n">prune_threshold</span><span class="o">=</span><span class="mf">1E-10</span><span class="p">,</span>
    <span class="n">pruning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">merge_threshold</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">merging</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Birth component</span>
<a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_covar</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class"><span class="n">CovarianceMatrix</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.diag.html#numpy.diag" title="numpy.diag" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">diag</span></a><span class="p">([</span><span class="mi">100000</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">100</span><span class="p">]))</span>
<a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ch_birth_component</span></a> <span class="o">=</span> <a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class"><span class="n">TaggedWeightedGaussianState</span></a><span class="p">(</span>
    <span class="n">state_vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="n">covar</span><span class="o">=</span><a href="../../smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix" class="sphx-glr-backref-module-smartfusion-types-array sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_covar</span></a><span class="o">**</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">weight</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">tag</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">TaggedWeightedGaussianState</span><span class="o">.</span><span class="n">BIRTH</span></a><span class="p">,</span>
    <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">start_time</span></a>
<span class="p">)</span>

<span class="c1"># Make tracker</span>
<a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracker</span></a> <span class="o">=</span> <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class"><span class="n">PointProcessMultiTargetTracker</span></a><span class="p">(</span>
    <span class="n">detector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="o">=</span><a href="../../smartfusion.hypothesiser.html#smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" title="smartfusion.hypothesiser.gaussianmixture.GaussianMixtureHypothesiser" class="sphx-glr-backref-module-smartfusion-hypothesiser-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">hypothesiser</span></a><span class="p">,</span>
    <a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="o">=</span><a href="../../smartfusion.updater.html#smartfusion.updater.pointprocess.PHDUpdater" title="smartfusion.updater.pointprocess.PHDUpdater" class="sphx-glr-backref-module-smartfusion-updater-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">updater</span></a><span class="p">,</span>
    <a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">reducer</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.mixturereducer.html#smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" title="smartfusion.mixturereducer.gaussianmixture.GaussianMixtureReducer" class="sphx-glr-backref-module-smartfusion-mixturereducer-gaussianmixture sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ch_reducer</span></a><span class="p">),</span>
    <a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">birth_component</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.state.TaggedWeightedGaussianState" title="smartfusion.types.state.TaggedWeightedGaussianState" class="sphx-glr-backref-module-smartfusion-types-state sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ch_birth_component</span></a><span class="p">),</span>
    <span class="n">extraction_threshold</span><span class="o">=</span><span class="mf">0.90</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="make-metric-managers">
<h2>6: Make Metric Managers<a class="headerlink" href="#make-metric-managers" title="Permalink to this heading"></a></h2>
<p>We will track the metrics of each of the four trackers for comparison.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.basicmetrics</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class"><span class="n">BasicMetrics</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.ospametric</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class"><span class="n">OSPAMetric</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.tracktotruthmetrics</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class"><span class="n">SIAPMetrics</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.uncertaintymetric</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.uncertaintymetric.html#smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" title="smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-uncertaintymetric sphx-glr-backref-type-py-class"><span class="n">SumofCovarianceNormsMetric</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.dataassociator.tracktotrack</span> <span class="kn">import</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class"><span class="n">TrackToTruth</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.manager</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class"><span class="n">SimpleManager</span></a>

<span class="c1"># Make the basic metric manager</span>
<a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">basic_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class"><span class="n">BasicMetrics</span></a><span class="p">()</span>
<a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ospa_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class"><span class="n">OSPAMetric</span></a><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
<a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class"><span class="n">SIAPMetrics</span></a><span class="p">(</span><span class="n">position_measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">(),</span> <span class="n">velocity_measure</span><span class="o">=</span><a href="../../smartfusion.measures.html#smartfusion.measures.Euclidean" title="smartfusion.measures.Euclidean" class="sphx-glr-backref-module-smartfusion-measures sphx-glr-backref-type-py-class"><span class="n">Euclidean</span></a><span class="p">())</span>
<a href="../../smartfusion.metricgenerator.uncertaintymetric.html#smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" title="smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-uncertaintymetric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">uncertainty_generator</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.uncertaintymetric.html#smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" title="smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-uncertaintymetric sphx-glr-backref-type-py-class"><span class="n">SumofCovarianceNormsMetric</span></a><span class="p">()</span>

<a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">associator</span></a> <span class="o">=</span> <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class"><span class="n">TrackToTruth</span></a><span class="p">(</span><span class="n">association_threshold</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_metric_manager</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class"><span class="n">SimpleManager</span></a><span class="p">([</span><a href="../../smartfusion.metricgenerator.basicmetrics.html#smartfusion.metricgenerator.basicmetrics.BasicMetrics" title="smartfusion.metricgenerator.basicmetrics.BasicMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-basicmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">basic_generator</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.ospametric.html#smartfusion.metricgenerator.ospametric.OSPAMetric" title="smartfusion.metricgenerator.ospametric.OSPAMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-ospametric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ospa_generator</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">siap_generator</span></a><span class="p">,</span>
                                     <a href="../../smartfusion.metricgenerator.uncertaintymetric.html#smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" title="smartfusion.metricgenerator.uncertaintymetric.SumofCovarianceNormsMetric" class="sphx-glr-backref-module-smartfusion-metricgenerator-uncertaintymetric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">uncertainty_generator</span></a><span class="p">],</span>
                                    <a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">associator</span></a><span class="o">=</span><a href="../../smartfusion.dataassociator.html#smartfusion.dataassociator.tracktotrack.TrackToTruth" title="smartfusion.dataassociator.tracktotrack.TrackToTruth" class="sphx-glr-backref-module-smartfusion-dataassociator-tracktotrack sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">associator</span></a><span class="p">)</span>

<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_mm</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_metric_manager</span></a><span class="p">),</span> <a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_metric_manager</span></a><span class="p">)</span>
<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_mm</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_metric_manager</span></a><span class="p">),</span> <a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="copy.deepcopy" class="sphx-glr-backref-module-copy sphx-glr-backref-type-py-function"><span class="n">deepcopy</span></a><span class="p">(</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">base_metric_manager</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-up-the-detection-feeders">
<h2>7: Set Up the Detection Feeders<a class="headerlink" href="#set-up-the-detection-feeders" title="Permalink to this heading"></a></h2>
<p>As one final step before running the simulation, we will write a little class which feeds the
detections for a single timestep. This makes sure that the two radars and the measurement
fusion tracker are getting the same measurements.</p>
<p>The track fusion tracker will also use the <a class="reference internal" href="../../smartfusion.feeder.html#smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" title="smartfusion.feeder.track.Tracks2GaussianDetectionFeeder"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tracks2GaussianDetectionFeeder</span></code></a> class to
feed the tracks as measurements. At each time step, the resultant live tracks from the JPDA and
GM-LCC trackers will be put into a <a class="reference internal" href="../../smartfusion.feeder.html#smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" title="smartfusion.feeder.track.Tracks2GaussianDetectionFeeder"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tracks2GaussianDetectionFeeder</span></code></a> (using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">DummyDetector</span></code> we write below). The feeder will take the most recent state from each
track and turn it into a <a class="reference internal" href="../../smartfusion.types.html#smartfusion.types.detection.GaussianDetection" title="smartfusion.types.detection.GaussianDetection"><code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianDetection</span></code></a> object. The set of detection objects will
be returned and passed into the tracker.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartfusion.feeder.track</span> <span class="kn">import</span> <a href="../../smartfusion.feeder.html#smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" title="smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" class="sphx-glr-backref-module-smartfusion-feeder-track sphx-glr-backref-type-py-class"><span class="n">Tracks2GaussianDetectionFeeder</span></a>
<span class="kn">from</span> <span class="nn">smartfusion.buffered_generator</span> <span class="kn">import</span> <span class="n">BufferedGenerator</span>
<span class="kn">from</span> <span class="nn">smartfusion.reader.base</span> <span class="kn">import</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">DetectionReader</span></a>


<span class="k">class</span> <span class="nc">DummyDetector</span><span class="p">(</span><a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">DetectionReader</span></a><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;current&#39;</span><span class="p">]</span>

    <span class="nd">@BufferedGenerator</span><span class="o">.</span><span class="n">generator_method</span>
    <span class="k">def</span> <span class="nf">detections_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section id="run-simulation">
<h2>8: Run Simulation<a class="headerlink" href="#run-simulation" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_detections</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_detections</span></a> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracks</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracks</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">(),</span> <span class="nb">set</span><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracks</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">(),</span> <span class="nb">set</span><span class="p">()</span>

<span class="n">sim_generator</span> <span class="o">=</span> <a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator.detections_gen" title="smartfusion.simulator.platform.PlatformDetectionSimulator.detections_gen" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-method"><span class="n">radar_simulator</span><span class="o">.</span><span class="n">detections_gen</span></a><span class="p">()</span>

<span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">t</span></a> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_steps</span></a><span class="p">):</span>

    <span class="c1"># Run JPDA tracker from sensor 1</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1d</span></a> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">sim_generator</span><span class="p">)</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_detections</span></a><span class="o">.</span><span class="n">extend</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># hold in list for plotting</span>
    <span class="c1"># Pass the detections into a DummyDetector and set it up as an iterable</span>
    <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetMixtureTracker" title="smartfusion.tracker.simple.MultiTargetMixtureTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracker</span></a><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">DummyDetector</span></a><span class="p">(</span><span class="n">current</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1d</span></a><span class="p">)</span>
    <a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetMixtureTracker" title="smartfusion.tracker.simple.MultiTargetMixtureTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracker</span></a><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>
    <span class="c1"># Run the tracker and store the resulting tracks</span>
    <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">_</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_tracks</span></a> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetMixtureTracker" title="smartfusion.tracker.simple.MultiTargetMixtureTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracker</span></a><span class="p">)</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_tracks</span></a><span class="p">)</span>

    <span class="c1"># Run GM-LCC tracker from sensor 2</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2d</span></a> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">sim_generator</span><span class="p">)</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_detections</span></a><span class="o">.</span><span class="n">extend</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># hold in list for plotting</span>
    <span class="c1"># Pass the detections into a DummyDetector and set it up as an iterable</span>
    <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracker</span></a><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">DummyDetector</span></a><span class="p">(</span><span class="n">current</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2d</span></a><span class="p">)</span>
    <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracker</span></a><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>
    <span class="c1"># Run the tracker and store results</span>
    <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_tracks</span></a> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracker</span></a><span class="p">)</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_tracks</span></a><span class="p">)</span>

    <span class="c1"># Run the GM-PHD for measurement fusion. This one gets called twice, once for each set of</span>
    <span class="c1"># detections. This ensures there is only one detection per target.</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a> <span class="ow">in</span> <span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1d</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2d</span></a><span class="p">]:</span>
        <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracker</span></a><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">DummyDetector</span></a><span class="p">(</span><span class="n">current</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a><span class="p">)</span>
        <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracker</span></a><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>
        <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">_</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracker</span></a><span class="p">)</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">)</span>

    <span class="c1"># Run the GM-PHD for track fusion. Similar to the measurement fusion, this tracker gets run</span>
    <span class="c1"># twice, once for each set of tracks.</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks_as_meas</span></a> <span class="ow">in</span> <span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_tracks</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_tracks</span></a><span class="p">]:</span>
        <span class="n">dummy_detector</span> <span class="o">=</span> <a href="../../smartfusion.base.html#smartfusion.base.Base" title="smartfusion.base.Base" class="sphx-glr-backref-module-smartfusion-base sphx-glr-backref-type-py-class"><span class="n">DummyDetector</span></a><span class="p">(</span><span class="n">current</span><span class="o">=</span><span class="p">[</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks_as_meas</span></a><span class="p">])</span>
        <a href="../../smartfusion.feeder.html#smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" title="smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" class="sphx-glr-backref-module-smartfusion-feeder-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracker</span><span class="o">.</span><span class="n">detector</span></a> <span class="o">=</span> <a href="../../smartfusion.feeder.html#smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" title="smartfusion.feeder.track.Tracks2GaussianDetectionFeeder" class="sphx-glr-backref-module-smartfusion-feeder-track sphx-glr-backref-type-py-class"><span class="n">Tracks2GaussianDetectionFeeder</span></a><span class="p">(</span><span class="n">dummy_detector</span><span class="p">)</span>
        <a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracker</span></a><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>
        <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">_</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracker</span></a><span class="p">)</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">)</span>

    <span class="c1"># ----------------------------------------------------------------------</span>

    <span class="c1"># Add ground truth data to metric managers</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truths</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar_simulator</span><span class="o">.</span><span class="n">groundtruth</span><span class="o">.</span><span class="n">current</span></a>
    <span class="k">for</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">manager</span></a> <span class="ow">in</span> <span class="p">[</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_mm</span></a><span class="p">]:</span>
        <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">manager</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><span class="n">groundtruth_paths</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">truths</span></a><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Add measurements to metric managers</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">sensor1_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">sensor2_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">meas_fusion_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">meas_fusion_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">track_fusion_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">track_fusion_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">detections</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2d</span></a><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="c1"># Ensure that all tracks have been extracted from the trackers</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.simple.MultiTargetMixtureTracker" title="smartfusion.tracker.simple.MultiTargetMixtureTracker" class="sphx-glr-backref-module-smartfusion-tracker-simple sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracker</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracker</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracker</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="../../smartfusion.tracker.html#smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" title="smartfusion.tracker.pointprocess.PointProcessMultiTargetTracker" class="sphx-glr-backref-module-smartfusion-tracker-pointprocess sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracker</span></a><span class="o">.</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="p">)</span>

<span class="c1"># Remove tracks that have just one state in them as they were probably from clutter</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracks</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracks</span></a> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">])</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracks</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracks</span></a> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">])</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracks</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracks</span></a> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">])</span>
<a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="k">for</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">])</span>

<span class="c1"># Add tracks to metric managers</span>
<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">sensor1_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracks</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">sensor2_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracks</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">meas_fusion_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracks</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.add_data" title="smartfusion.metricgenerator.manager.SimpleManager.add_data" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">track_fusion_mm</span><span class="o">.</span><span class="n">add_data</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracks</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plot-the-results">
<h2>9: Plot the Results<a class="headerlink" href="#plot-the-results" title="Permalink to this heading"></a></h2>
<p>Next, we will plot all of the resulting tracks and measurements. This will be done in two plots.
The first plot will show all of the data, and the second plot will show a closer view of one
resultant track.</p>
<p>These plots are done in 2D to make them more readable. We invite the reader to explore the plot
interactively using the following line in an active Jupyter session.</p>
<p>%matplotlib widget</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter1</span></a><span class="p">,</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter2</span></a> <span class="o">=</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class"><span class="n">Plotter</span></a><span class="p">(),</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class"><span class="n">Plotter</span></a><span class="p">()</span>
<span class="k">for</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter</span></a> <span class="ow">in</span> <span class="p">[</span><a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter1</span></a><span class="p">,</span> <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter2</span></a><span class="p">]:</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_ground_truths" title="smartfusion.plotter.Plotter.plot_ground_truths" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_ground_truths</span></a><span class="p">(</span><span class="nb">set</span><span class="p">(</span><a href="../../smartfusion.simulator.html#smartfusion.simulator.platform.PlatformDetectionSimulator" title="smartfusion.simulator.platform.PlatformDetectionSimulator" class="sphx-glr-backref-module-smartfusion-simulator-platform sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">radar_simulator</span></a><span class="o">.</span><span class="n">groundtruth</span><span class="o">.</span><span class="n">groundtruth_paths</span><span class="p">),</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                               <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_measurements" title="smartfusion.plotter.Plotter.plot_measurements" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_measurements</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_detections</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
                              <span class="n">measurements_label</span><span class="o">=</span><span class="s1">&#39;Measurements - Airborne Radar&#39;</span><span class="p">)</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_measurements" title="smartfusion.plotter.Plotter.plot_measurements" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_measurements</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_detections</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
                              <span class="n">measurements_label</span><span class="o">=</span><span class="s1">&#39;Measurements - Ground Radar&#39;</span><span class="p">)</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_tracks" title="smartfusion.plotter.Plotter.plot_tracks" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_tracks</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">jpda_tracks</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
                        <span class="n">track_label</span><span class="o">=</span><span class="s1">&#39;Tracks - Airborne Radar (JPDAF)&#39;</span><span class="p">)</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_tracks" title="smartfusion.plotter.Plotter.plot_tracks" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_tracks</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">gmlcc_tracks</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span>
                        <span class="n">track_label</span><span class="o">=</span><span class="s1">&#39;Tracks - Ground Radar (GM-LCC)&#39;</span><span class="p">)</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_tracks" title="smartfusion.plotter.Plotter.plot_tracks" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_tracks</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_tracks</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span>
                        <span class="n">track_label</span><span class="o">=</span><span class="s1">&#39;Tracks - Measurement Fusion (GM-PHD)&#39;</span><span class="p">)</span>
    <a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter.plot_tracks" title="smartfusion.plotter.Plotter.plot_tracks" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">plot_tracks</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">,</span>
                        <span class="n">track_label</span><span class="o">=</span><span class="s1">&#39;Tracks - Covariance Intersection (GM-PHD)&#39;</span><span class="p">)</span>

    <span class="c1"># Format the legend a bit. Set the position outside of the plot, and</span>
    <span class="c1"># swap the order of the clutter and ground radar measurements</span>
    <a href="https://matplotlib.org/stable/api/transformations.html#matplotlib.transforms.Bbox" title="matplotlib.transforms.Bbox" class="sphx-glr-backref-module-matplotlib-transforms sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pos</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.get_position.html#matplotlib.axes.Axes.get_position" title="matplotlib.axes.Axes.get_position" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span></a><span class="p">()</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_position.html#matplotlib.axes.Axes.set_position" title="matplotlib.axes.Axes.set_position" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_position</span></a><span class="p">([</span><a href="https://matplotlib.org/stable/api/transformations.html#matplotlib.transforms.Bbox.x0" title="matplotlib.transforms.Bbox.x0" class="sphx-glr-backref-module-matplotlib-transforms sphx-glr-backref-type-py-property"><span class="n">pos</span><span class="o">.</span><span class="n">x0</span></a><span class="p">,</span> <a href="https://matplotlib.org/stable/api/transformations.html#matplotlib.transforms.Bbox.y0" title="matplotlib.transforms.Bbox.y0" class="sphx-glr-backref-module-matplotlib-transforms sphx-glr-backref-type-py-property"><span class="n">pos</span><span class="o">.</span><span class="n">y0</span></a><span class="p">,</span> <a href="https://matplotlib.org/stable/api/transformations.html#matplotlib.transforms.BboxBase.width" title="matplotlib.transforms.BboxBase.width" class="sphx-glr-backref-module-matplotlib-transforms sphx-glr-backref-type-py-property"><span class="n">pos</span><span class="o">.</span><span class="n">width</span></a> <span class="o">*</span> <span class="mf">0.7</span><span class="p">,</span> <a href="https://matplotlib.org/stable/api/transformations.html#matplotlib.transforms.BboxBase.height" title="matplotlib.transforms.BboxBase.height" class="sphx-glr-backref-module-matplotlib-transforms sphx-glr-backref-type-py-property"><span class="n">pos</span><span class="o">.</span><span class="n">height</span></a><span class="p">])</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter</span></a><span class="o">.</span><span class="n">legend_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">v</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><a href="../../smartfusion.plotter.html#smartfusion.plotter.Plotter" title="smartfusion.plotter.Plotter" class="sphx-glr-backref-module-smartfusion-plotter sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plotter</span></a><span class="o">.</span><span class="n">legend_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">v</span></a><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">v</span></a><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">v</span></a><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">v</span></a><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.legend.html#matplotlib.axes.Axes.legend" title="matplotlib.axes.Axes.legend" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">legend</span></a><span class="p">(</span><span class="n">handles</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">v</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">k</span></a><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower center&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">))</span>

<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.show" title="matplotlib.figure.Figure.show" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">plotter1</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>

<a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_tracks</span></a><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">x_min</span></a> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span><span class="n">state</span><span class="o">.</span><span class="n">state_vector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">])</span>
<a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">x_max</span></a> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">state</span><span class="o">.</span><span class="n">state_vector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">])</span>
<a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">y_min</span></a> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span><span class="n">state</span><span class="o">.</span><span class="n">state_vector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">])</span>
<a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">y_max</span></a> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">state</span><span class="o">.</span><span class="n">state_vector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <a href="../../smartfusion.types.html#smartfusion.types.track.Track" title="smartfusion.types.track.Track" class="sphx-glr-backref-module-smartfusion-types-track sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track</span></a><span class="p">])</span>

<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html#matplotlib.axes.Axes.set_xlim" title="matplotlib.axes.Axes.set_xlim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter2</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">x_min</span></a><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">x_max</span></a><span class="o">+</span><span class="mi">50</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="matplotlib.axes.Axes.set_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">plotter2</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">y_min</span></a><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64" title="numpy.float64" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"><span class="n">y_max</span></a><span class="o">+</span><span class="mi">50</span><span class="p">)</span>

<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.show" title="matplotlib.figure.Figure.show" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-method"><span class="n">plotter2</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_002.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_002.png" alt="Track2Track Fusion Example" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_003.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_003.png" alt="Track2Track Fusion Example" class = "sphx-glr-multi-img"/></li>
</ul>
<p>Now we will plot the metrics. First, we call a function for each sensor manager to calculate
the metrics.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1_metrics</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" title="smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">sensor1_mm</span><span class="o">.</span><span class="n">generate_metrics</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2_metrics</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" title="smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">sensor2_mm</span><span class="o">.</span><span class="n">generate_metrics</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_metrics</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" title="smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">meas_fusion_mm</span><span class="o">.</span><span class="n">generate_metrics</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_metrics</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" title="smartfusion.metricgenerator.manager.SimpleManager.generate_metrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">track_fusion_mm</span><span class="o">.</span><span class="n">generate_metrics</span></a><span class="p">()</span>
</pre></div>
</div>
<p>Now we can plot them. The SIAP and OSPA metrics can be done together in a loop. The
Track-To-Truth ratio needs to be done separately so that it can be calculated at each
timestep.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">smartfusion.metricgenerator.tracktotruthmetrics</span> <span class="kn">import</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics sphx-glr-backref-type-py-class"><span class="n">SIAPMetrics</span></a>

<span class="c1"># Legend labels for each type of tracker</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Airborne Radar (JPDAF)&#39;</span><span class="p">,</span> <span class="s1">&#39;Ground Radar (GM-LCC)&#39;</span><span class="p">,</span> <span class="s1">&#39;Measurement Fusion (GM-PHD)&#39;</span><span class="p">,</span>
          <span class="s1">&#39;Covariance Intersection (GM-PHD)&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">linestyles</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;dashdot&#39;</span><span class="p">]</span>

<span class="c1"># Iterate through the SIAP and OSPA metrics</span>
<span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;SIAP Position Accuracy at times&#39;</span><span class="p">,</span> <span class="s1">&#39;SIAP Velocity Accuracy at times&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;SIAP Spuriousness at times&#39;</span><span class="p">,</span> <span class="s1">&#39;SIAP Completeness at times&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;SIAP Ambiguity at times&#39;</span><span class="p">,</span> <span class="s1">&#39;OSPA distances&#39;</span><span class="p">,</span> <span class="s1">&#39;Sum of Covariance Norms Metric&#39;</span><span class="p">]:</span>
    <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">()</span>

    <span class="c1"># Plot the metrics from each metric manager</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracker_metrics</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">label</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">line</span></a> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s1_metrics</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">s2_metrics</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_metrics</span></a><span class="p">,</span>
                                             <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_metrics</span></a><span class="p">],</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">linestyles</span></a><span class="p">):</span>
        <a href="../../smartfusion.types.html#smartfusion.types.metric.TimeRangeMetric" title="smartfusion.types.metric.TimeRangeMetric" class="sphx-glr-backref-module-smartfusion-types-metric sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tracker_metrics</span></a><span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="p">]</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span></a><span class="p">([</span><span class="n">m</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metrics</span><span class="o">.</span><span class="n">value</span></a><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">label</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">label</span></a><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">line</span></a><span class="p">)</span>

    <span class="c1"># Set x and y labels and title</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlabel.html#matplotlib.axes.Axes.set_xlabel" title="matplotlib.axes.Axes.set_xlabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span></a><span class="p">(</span><span class="s2">&quot;Time $(s)$&quot;</span><span class="p">)</span>
    <span class="k">if</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;OSPA&#39;</span><span class="p">):</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_title.html#matplotlib.axes.Axes.set_title" title="matplotlib.axes.Axes.set_title" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span></a><span class="p">(</span><span class="s1">&#39;OSPA Distance&#39;</span><span class="p">)</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html#matplotlib.axes.Axes.set_ylabel" title="matplotlib.axes.Axes.set_ylabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span></a><span class="p">(</span><span class="s1">&#39;Distance&#39;</span><span class="p">)</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="matplotlib.axes.Axes.set_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>  <span class="c1"># change y axis range for OSPA distance</span>
    <span class="k">elif</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;Sum of&#39;</span><span class="p">):</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_title.html#matplotlib.axes.Axes.set_title" title="matplotlib.axes.Axes.set_title" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="p">)</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html#matplotlib.axes.Axes.set_ylabel" title="matplotlib.axes.Axes.set_ylabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span></a><span class="p">(</span><span class="s1">&#39;Sum of Covariance Norms&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_title.html#matplotlib.axes.Axes.set_title" title="matplotlib.axes.Axes.set_title" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="p">)</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html#matplotlib.axes.Axes.set_ylabel" title="matplotlib.axes.Axes.set_ylabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">9</span><span class="p">])</span>

    <span class="c1"># Add units to y axis where applicable</span>
    <span class="k">if</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;SIAP Position&#39;</span><span class="p">)</span> <span class="ow">or</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;SIAP Velocity&#39;</span><span class="p">)</span> \
       <span class="ow">or</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">metric_name</span></a><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;OSPA&#39;</span><span class="p">):</span>
        <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html#matplotlib.axes.Axes.set_ylabel" title="matplotlib.axes.Axes.set_ylabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span></a><span class="p">(</span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axis.Axis.get_label.html#matplotlib.axis.Axis.get_label" title="matplotlib.axis.Axis.get_label" class="sphx-glr-backref-module-matplotlib-axis sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_label</span></a><span class="p">()</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39; $(m)$&#39;</span><span class="p">)</span>

    <span class="c1"># Add legend</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.legend.html#matplotlib.axes.Axes.legend" title="matplotlib.axes.Axes.legend" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">legend</span></a><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>


<span class="c1"># Plot Track to Truth Ratio</span>
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">times</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager.list_timestamps" title="smartfusion.metricgenerator.manager.SimpleManager.list_timestamps" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-method"><span class="n">sensor1_mm</span><span class="o">.</span><span class="n">list_timestamps</span></a><span class="p">()</span>

<span class="c1"># Iterate through the metric managers. For each one, go through the list of all timesteps</span>
<span class="c1"># and calculate the ratio at that time</span>
<span class="k">for</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">manager</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">label</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">line</span></a> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor1_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">sensor2_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">meas_fusion_mm</span></a><span class="p">,</span> <a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">track_fusion_mm</span></a><span class="p">],</span>
                                <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">labels</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">linestyles</span></a><span class="p">):</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ratios</span></a> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">times</span></a><span class="p">:</span>
        <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_tracks</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics.num_tracks_at_time" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics.num_tracks_at_time" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics-SIAPMetrics sphx-glr-backref-type-py-method"><span class="n">SIAPMetrics</span><span class="o">.</span><span class="n">num_tracks_at_time</span></a><span class="p">(</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">manager</span></a><span class="o">=</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">manager</span></a><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">)</span>
        <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_truths</span></a> <span class="o">=</span> <a href="../../smartfusion.metricgenerator.tracktotruthmetrics.html#smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics.num_truths_at_time" title="smartfusion.metricgenerator.tracktotruthmetrics.SIAPMetrics.num_truths_at_time" class="sphx-glr-backref-module-smartfusion-metricgenerator-tracktotruthmetrics-SIAPMetrics sphx-glr-backref-type-py-method"><span class="n">SIAPMetrics</span><span class="o">.</span><span class="n">num_truths_at_time</span></a><span class="p">(</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">manager</span></a><span class="o">=</span><a href="../../smartfusion.metricgenerator.html#smartfusion.metricgenerator.manager.SimpleManager" title="smartfusion.metricgenerator.manager.SimpleManager" class="sphx-glr-backref-module-smartfusion-metricgenerator-manager sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">manager</span></a><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">time</span></a><span class="p">)</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ratios</span></a><span class="o">.</span><span class="n">append</span><span class="p">(</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_tracks</span></a> <span class="o">/</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">num_truths</span></a><span class="p">)</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot" title="matplotlib.pyplot.plot" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ratios</span></a><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">label</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">label</span></a><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">line</span></a><span class="p">)</span>

<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_title.html#matplotlib.axes.Axes.set_title" title="matplotlib.axes.Axes.set_title" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span></a><span class="p">(</span><span class="s1">&#39;Track-to-Truth Ratio&#39;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html#matplotlib.axes.Axes.set_ylabel" title="matplotlib.axes.Axes.set_ylabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span></a><span class="p">(</span><span class="s1">&#39;Ratio&#39;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlabel.html#matplotlib.axes.Axes.set_xlabel" title="matplotlib.axes.Axes.set_xlabel" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span></a><span class="p">(</span><span class="s1">&#39;Time $(s)$&#39;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.legend.html#matplotlib.axes.Axes.legend" title="matplotlib.axes.Axes.legend" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">legend</span></a><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_004.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_004.png" alt="SIAP Position Accuracy at times" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_005.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_005.png" alt="SIAP Velocity Accuracy at times" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_006.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_006.png" alt="SIAP Spuriousness at times" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_007.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_007.png" alt="SIAP Completeness at times" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_008.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_008.png" alt="SIAP Ambiguity at times" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_009.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_009.png" alt="OSPA Distance" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_010.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_010.png" alt="Sum of Covariance Norms Metric" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_Track2Track_Fusion_Example_011.png" srcset="../../_images/sphx_glr_Track2Track_Fusion_Example_011.png" alt="Track-to-Truth Ratio" class = "sphx-glr-multi-img"/></li>
</ul>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Julier, S. J. and Uhlmann, J. K., “General decentralized data fusion
with covariance intersection,” Handbook of multisensor data fusion:
theory and practice, pp. 319–344, 2009.</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Clark, D. E. and Campbell, M. A., “Integrating covariance intersection
into Bayesian multi-target tracking filters,” preprint on TechRxiv.
submitted to IEEE Transactions on Aerospace and Electronic Systems.</p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Hurley, M. B., “An information theoretic justification for covariance
intersection and its generalization,” in Proceedings of the Fifth
International Conference on Information Fusion. FUSION 2002.(IEEE Cat.
No. 02EX5997), vol. 1. IEEE, 2002, pp. 505–511</p>
</dd>
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id4">4</a></span></dt>
<dd><p>Clark, D. and Hunter, E. and Balaji, B. and O’Rourke, S., “Centralized multi-sensor
multi-target data fusion with tracks as measurements,” to be submitted to SPIE Defense and
Security Symposium 2023.</p>
</dd>
</dl>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  3.505 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-tutorials-moreexamples-track2track-fusion-example-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/claycurry34/Smart-Fusion/main?filepath=notebooks/auto_tutorials/moreexamples/Track2Track_Fusion_Example.ipynb"><img alt="Launch binder" src="../../_images/binder_badge_logo2.svg" width="150px" /></a>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/155c76561caaff7e4240c80010c89c60/Track2Track_Fusion_Example.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">Track2Track_Fusion_Example.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/16a905283c5628853e02fbe82e4a5412/Track2Track_Fusion_Example.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">Track2Track_Fusion_Example.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Smooth_Platform_Coordinate_Transitions.html" class="btn btn-neutral float-left" title="Creating Smooth Transitions Between Coordinates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="range_range_rate_binning.html" class="btn btn-neutral float-right" title="RangeRangeRateBinning measurement model example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2022 University of Oklahoma.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>