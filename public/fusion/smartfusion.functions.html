<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Functions &mdash; SMART FUSION 0.1b11.dev2+gf88c3944.d20220921 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Measures" href="smartfusion.measures.html" />
    <link rel="prev" title="Configuration" href="smartfusion.config.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SMART FUSION
            <img src="_static/smart_fusion_logo.jpeg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1b11.dev2+gf88c3944.d20220921
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design.html">Framework Design </a></li>
<li class="toctree-l1 current"><a class="reference internal" href="smartfusion.html">SMART FUSION Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="interface.html">Component Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Base Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.base.html">Declarative Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.config.html">Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#orbital-functions">Orbital functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.measures.html">Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.plotter.html">Plotter</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.serialise.html">Serialisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.html#components">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.html#data-types">Data Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_demos/index.html">Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">Copyright &amp; License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SMART FUSION</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="smartfusion.html">SMART FUSION Framework</a> &raquo;</li>
      <li>Functions</li>
  
  <li class="wy-breadcrumbs-aside">
    <a href="https://github.com/claycurry34/Smart-Fusion/blob/main/docs/source/smartfusion.functions.rst" class="fa fa-github"> Edit on GitHub</a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-smartfusion.functions">
<span id="functions"></span><h1>Functions<a class="headerlink" href="#module-smartfusion.functions" title="Permalink to this heading"></a></h1>
<p>Mathematical functions used within SMART FUSION</p>
<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.tria">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">tria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#tria"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.tria" title="Permalink to this definition"></a></dt>
<dd><p>Square Root Matrix Triangularization</p>
<p>Given a rectangular square root matrix obtain a square lower-triangular
square root matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>matrix</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a>) – A <cite>n</cite> by <cite>m</cite> matrix that is generally not square.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A square lower-triangular matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.cholesky_eps">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">cholesky_eps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#cholesky_eps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.cholesky_eps" title="Permalink to this definition"></a></dt>
<dd><p>Perform a Cholesky decomposition on a nearly positive-definite matrix.</p>
<p>This should return similar results to NumPy/SciPy Cholesky decompositions,
but compromises for cases for non positive-definite matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a>) – Symmetric positive-definite matrix.</p></li>
<li><p><strong>lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Whether to return lower or upper triangular decomposition. Default
<cite>False</cite> which returns upper.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>L</strong> – Upper/lower triangular Cholesky decomposition.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.jacobian">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fun</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#jacobian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Compute Jacobian through finite difference calculation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fun</strong> (<em>function handle</em>) – A (non-linear) transition function
Must be of the form “y = fun(x)”, where y can be a scalar or         <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(Nd, 1)</cite> or <cite>(Nd,)</cite></p></li>
<li><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code>) – A state with state vector of shape <cite>(Ns, 1)</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>jac</strong> – The computed Jacobian</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(Nd, Ns)</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.gauss2sigma">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">gauss2sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#gauss2sigma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.gauss2sigma" title="Permalink to this definition"></a></dt>
<dd><p>Approximate a given distribution to a Gaussian, using a
deterministically selected set of sigma points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code>) – A state object capable of returning a <a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a> of
shape <cite>(Ns, 1)</cite> representing the Gaussian mean and a
<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape <cite>(Ns, Ns)</cite> which is the
covariance of the distribution</p></li>
<li><p><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Spread of the sigma points. Typically <cite>1e-3</cite>.
(default is 1)</p></li>
<li><p><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Used to incorporate prior knowledge of the distribution
2 is optimal if the state is normally distributed.
(default is 2)</p></li>
<li><p><strong>kappa</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Secondary spread scaling parameter
(default is calculated as <cite>3-Ns</cite>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of length <cite>2*Ns+1</cite> – An list of States containing the locations of the sigma points.
Note that only the <code class="xref py py-attr docutils literal notranslate"><span class="pre">state_vector</span></code> attribute in these
States will be meaningful. Other quantities, like <code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code>
will be inherited from the input and don’t really make sense
for a sigma point.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite> – An array containing the sigma point mean weights</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite> – An array containing the sigma point covariance weights</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.sigma2gauss">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">sigma2gauss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">covar_weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">covar_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#sigma2gauss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.sigma2gauss" title="Permalink to this definition"></a></dt>
<dd><p>Calculate estimated mean and covariance from a given set of sigma points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma_points</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVectors</span></code></a> of shape <cite>(Ns, 2*Ns+1)</cite>) – An array containing the locations of the sigma points</p></li>
<li><p><strong>mean_weights</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite>) – An array containing the sigma point mean weights</p></li>
<li><p><strong>covar_weights</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite>) – An array containing the sigma point covariance weights</p></li>
<li><p><strong>covar_noise</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape <cite>(Ns, Ns)</cite>, optional) – Additive noise covariance matrix
(default is <cite>None</cite>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a> of shape <cite>(Ns, 1)</cite> – Calculated mean</p></li>
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape <cite>(Ns, Ns)</cite> – Calculated covariance</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.unscented_transform">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">unscented_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma_points_states</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">covar_weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fun</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">covar_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#unscented_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.unscented_transform" title="Permalink to this definition"></a></dt>
<dd><p>Apply the Unscented Transform to a set of sigma points</p>
<p>Apply f to points (with secondary argument points_noise, if available),
then approximate the resulting mean and covariance. If sigma_noise is
available, treat it as additional variance due to additive noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma_points</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVectors</span></code></a> of shape <cite>(Ns, 2*Ns+1)</cite>) – An array containing the locations of the sigma points</p></li>
<li><p><strong>mean_weights</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite>) – An array containing the sigma point mean weights</p></li>
<li><p><strong>covar_weights</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite>) – An array containing the sigma point covariance weights</p></li>
<li><p><strong>fun</strong> (<em>function handle</em>) – A (non-linear) transition function
Must be of the form “y = fun(x,w)”, where y can be a scalar or         <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(Ns, 1)</cite> or <cite>(Ns,)</cite></p></li>
<li><p><strong>covar_noise</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape <cite>(Ns, Ns)</cite>, optional) – Additive noise covariance matrix
(default is <cite>None</cite>)</p></li>
<li><p><strong>points_noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(Ns, 2*Ns+1,)</cite>, optional) – points to pass into f’s second argument
(default is <cite>None</cite>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a> of shape <cite>(Ns, 1)</cite> – Transformed mean</p></li>
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape <cite>(Ns, Ns)</cite> – Transformed covariance</p></li>
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape <cite>(Ns,Nm)</cite> – Calculated cross-covariance matrix</p></li>
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVectors</span></code></a> of shape <cite>(Ns, 2*Ns+1)</cite> – An array containing the locations of the transformed sigma points</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite> – An array containing the transformed sigma point mean weights</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape <cite>(2*Ns+1,)</cite> – An array containing the transformed sigma point covariance weights</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.cart2pol">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">cart2pol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#cart2pol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.cart2pol" title="Permalink to this definition"></a></dt>
<dd><p>Convert Cartesian coordinates to Polar</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The x coordinate</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the y coordinate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the form <cite>(range, bearing)</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.cart2sphere">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">cart2sphere</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#cart2sphere"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.cart2sphere" title="Permalink to this definition"></a></dt>
<dd><p>Convert Cartesian coordinates to Spherical</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The x coordinate</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the y coordinate</p></li>
<li><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the z coordinate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the form <cite>(range, bearing, elevation)</cite>
bearing and elevation in radians. Elevation is measured from x, y plane</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.cart2angles">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">cart2angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#cart2angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.cart2angles" title="Permalink to this definition"></a></dt>
<dd><p>Convert Cartesian coordinates to Angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The x coordinate</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the y coordinate</p></li>
<li><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the z coordinate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the form <cite>(bearing, elevation)</cite>
bearing and elevation in radians. Elevation is measured from x, y plane</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.pol2cart">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">pol2cart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#pol2cart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.pol2cart" title="Permalink to this definition"></a></dt>
<dd><p>Convert Polar coordinates to Cartesian</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Range(a.k.a. radial distance)</p></li>
<li><p><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Bearing, expressed in radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the form <cite>(x, y)</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.sphere2cart">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">sphere2cart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#sphere2cart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.sphere2cart" title="Permalink to this definition"></a></dt>
<dd><p>Convert Polar coordinates to Cartesian</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Range(a.k.a. radial distance)</p></li>
<li><p><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Bearing, expressed in radians</p></li>
<li><p><strong>theta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Elevation expressed in radians, measured from x, y plane</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the form <cite>(x, y, z)</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.rotx">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">rotx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#rotx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.rotx" title="Permalink to this definition"></a></dt>
<dd><p>Rotation matrix for rotations around x-axis</p>
<p>For a given rotation angle: <span class="math notranslate nohighlight">\(\theta\)</span>, this function evaluates and returns the rotation matrix:</p>
<div class="math notranslate nohighlight" id="equation-rx">
<span class="eqno">(1)<a class="headerlink" href="#equation-rx" title="Permalink to this equation"></a></span>\[\begin{split}R_{x}(\theta) = \begin{bmatrix}
                 1 &amp; 0 &amp; 0 \\
                 0 &amp; cos(\theta) &amp; -sin(\theta) \\
                 0 &amp; sin(\theta) &amp; cos(\theta)
                 \end{bmatrix}\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>theta</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>np.ndarray</em><em>]</em>) – Rotation angle specified as a real-valued number or an <code class="xref py py-class docutils literal notranslate"><span class="pre">np.ndarray</span></code> of reals. The rotation angle is positive if the rotation is in the clockwise direction when viewed by an observer looking down the x-axis towards the origin. Angle units are in radians.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotation matrix around x-axis of the form <a class="reference internal" href="#equation-rx">(1)</a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (3, 3) or (3, 3, n) for array input</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.roty">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">roty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#roty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.roty" title="Permalink to this definition"></a></dt>
<dd><p>Rotation matrix for rotations around y-axis</p>
<p>For a given rotation angle: <span class="math notranslate nohighlight">\(\theta\)</span>, this function evaluates and returns the rotation matrix:</p>
<div class="math notranslate nohighlight" id="equation-ry">
<span class="eqno">(2)<a class="headerlink" href="#equation-ry" title="Permalink to this equation"></a></span>\[\begin{split}R_{y}(\theta) = \begin{bmatrix}
                 cos(\theta) &amp; 0 &amp; sin(\theta) \\
                 0 &amp; 1 &amp; 0 \\
                 - sin(\theta) &amp; 0 &amp; cos(\theta)
                 \end{bmatrix}\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>theta</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>np.ndarray</em><em>]</em>) – Rotation angle specified as a real-valued number or an <code class="xref py py-class docutils literal notranslate"><span class="pre">np.ndarray</span></code> of reals. The rotation angle is positive if the rotation is in the clockwise direction when viewed by an observer looking down the y-axis towards the origin. Angle units are in radians.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotation matrix around y-axis of the form <a class="reference internal" href="#equation-ry">(2)</a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (3, 3) or (3, 3, n) for array input</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.rotz">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">rotz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#rotz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.rotz" title="Permalink to this definition"></a></dt>
<dd><p>Rotation matrix for rotations around z-axis</p>
<p>For a given rotation angle: <span class="math notranslate nohighlight">\(\theta\)</span>, this function evaluates and returns the rotation matrix:</p>
<div class="math notranslate nohighlight" id="equation-rz">
<span class="eqno">(3)<a class="headerlink" href="#equation-rz" title="Permalink to this equation"></a></span>\[\begin{split}R_{z}(\theta) = \begin{bmatrix}
                 cos(\theta) &amp; -sin(\theta) &amp; 0 \\
                 sin(\theta) &amp; cos(\theta) &amp; 0 \\
                 0 &amp; 0 &amp; 1
                 \end{bmatrix}\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>theta</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>np.ndarray</em><em>]</em>) – Rotation angle specified as a real-valued number or an <code class="xref py py-class docutils literal notranslate"><span class="pre">np.ndarray</span></code> of reals. The rotation angle is positive if the rotation is in the clockwise direction when viewed by an observer looking down the z-axis towards the origin. Angle units are in radians.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotation matrix around z-axis of the form <a class="reference internal" href="#equation-rz">(3)</a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (3, 3) or (3, 3, n) for array input</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.gm_reduce_single">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">gm_reduce_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">means</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">covars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#gm_reduce_single"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.gm_reduce_single" title="Permalink to this definition"></a></dt>
<dd><p>Reduce mixture of multi-variate Gaussians to single Gaussian</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>means</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVectors</span></code></a>) – The means of the GM components</p></li>
<li><p><strong>covars</strong> (<em>np.array of shape</em><em> (</em><em>num_dims</em><em>, </em><em>num_dims</em><em>, </em><em>num_components</em><em>)</em>) – The covariance matrices of the GM components</p></li>
<li><p><strong>weights</strong> (<em>np.array of shape</em><em> (</em><em>num_components</em><em>,</em><em>)</em>) – The weights of the GM components</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a> – The mean of the reduced/single Gaussian</p></li>
<li><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> – The covariance of the reduced/single Gaussian</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.mod_bearing">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">mod_bearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#mod_bearing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.mod_bearing" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the modulus of a bearing. Bearing angles are within the range <span class="math notranslate nohighlight">\(-\pi\)</span> to <span class="math notranslate nohighlight">\(\pi\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – bearing angle in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Angle in radians in the range math: <span class="math notranslate nohighlight">\(-\pi\)</span> to <span class="math notranslate nohighlight">\(+\pi\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.mod_elevation">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">mod_elevation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#mod_elevation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.mod_elevation" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the modulus of an elevation angle. Elevation angles are within the range <span class="math notranslate nohighlight">\(-\pi/2\)</span> to <span class="math notranslate nohighlight">\(\pi/2\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – elevation angle in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Angle in radians in the range math: <span class="math notranslate nohighlight">\(-\pi/2\)</span> to <span class="math notranslate nohighlight">\(+\pi/2\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.build_rotation_matrix">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">build_rotation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle_vector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#build_rotation_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.build_rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Calculates and returns the (3D) axis rotation matrix given a vector of
three angles:
[roll, pitch/elevation, yaw/azimuth]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle_vector</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (3, 1): the rotations) – </p></li>
<li><p><strong>the</strong> (<em>about</em>) – </p></li>
<li><p><strong>to</strong> (<em>In aircraft/radar terms these correspond</em>) – </p></li>
<li><p><strong>[</strong><strong>roll</strong> – </p></li>
<li><p><strong>pitch/elevation</strong> – </p></li>
<li><p><strong>yaw/azimuth</strong><strong>]</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model (3D) rotation matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (3, 3)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.dotproduct">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">dotproduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#dotproduct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.dotproduct" title="Permalink to this definition"></a></dt>
<dd><p>Returns the dot (or scalar) product of two StateVectors.</p>
<p>The result for vectors of length <span class="math notranslate nohighlight">\(n\)</span> is
<span class="math notranslate nohighlight">\(\Sigma_i^n a_i b_i\)</span>.</p>
<p>Inputs are state vectors, i.e. the second dimension is 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><em>StateVector</em></a>) – A state vector</p></li>
<li><p><strong>b</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><em>StateVector</em></a>) – A state vector of equal length to <span class="math notranslate nohighlight">\(a\)</span></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A scalar value representing the dot product of the vectors.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.sde_euler_maruyama_integration">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.</span></span><span class="sig-name descname"><span class="pre">sde_euler_maruyama_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fun</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_x0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions.html#sde_euler_maruyama_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.sde_euler_maruyama_integration" title="Permalink to this definition"></a></dt>
<dd><p>Perform SDE Euler Maruyama Integration</p>
<p>Performs Stochastic Differential Equation Integration using the Euler
Maruyama method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fun</strong> (<em>callable</em>) – Function to integrate.</p></li>
<li><p><strong>t_values</strong> (list of <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Time values to integrate over</p></li>
<li><p><strong>state_x0</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – Initial state for time in first value in <code class="xref py py-obj docutils literal notranslate"><span class="pre">t_values</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Final value for the time in last value in <code class="xref py py-obj docutils literal notranslate"><span class="pre">t_values</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a></p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-smartfusion.functions.orbital"></span><section id="orbital-functions">
<h2>Orbital functions<a class="headerlink" href="#orbital-functions" title="Permalink to this heading"></a></h2>
<p>Functions used within multiple orbital classes in SMART FUSION</p>
<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.stumpff_s">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">stumpff_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#stumpff_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.stumpff_s" title="Permalink to this definition"></a></dt>
<dd><p>The Stumpff S function</p>
<div class="math notranslate nohighlight">
\[\begin{split}S(z) = \begin{cases}\frac{\sqrt(z) - \sin{\sqrt(z)}}{(\sqrt(z))^{3}}, &amp; (z &gt; 0)\\
             \frac{\sinh(\sqrt(-z)) - \sqrt(-z)}{(\sqrt(-z))^{3}}, &amp; (z &lt; 0) \\
             \frac{1}{6}, &amp; (z = 0)\end{cases}\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – input parameter, <span class="math notranslate nohighlight">\(z\)</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output value, <span class="math notranslate nohighlight">\(S(z)\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.stumpff_c">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">stumpff_c</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#stumpff_c"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.stumpff_c" title="Permalink to this definition"></a></dt>
<dd><p>The Stumpff C function</p>
<div class="math notranslate nohighlight">
\[\begin{split}C(z) = \begin{cases}\frac{1 - \cos{\sqrt(z)}}{z}, &amp; (z &gt; 0)\\
             \frac{\cosh{\sqrt(-z)} - 1}{-z}, &amp; (z &lt; 0) \\
             \frac{1}{2}, &amp; (z = 0)\end{cases}\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – input parameter, <span class="math notranslate nohighlight">\(z\)</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output value, <span class="math notranslate nohighlight">\(C(z)\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.universal_anomaly_newton">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">universal_anomaly_newton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o_state_vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grav_parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">398600441800000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#universal_anomaly_newton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.universal_anomaly_newton" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the universal anomaly via Newton’s method. Algorithm 3.3 in <a class="footnote-reference brackets" href="#id2" id="id1">1</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o_state_vector</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code>) – The orbital state vector formed as
<span class="math notranslate nohighlight">\([r_x, r_y, r_z, \dot{r}_x, \dot{r}_y, \dot{r}_z]^T\)</span></p></li>
<li><p><strong>delta_t</strong> (<em>timedelta</em>) – The time interval over which to estimate the universal anomaly</p></li>
<li><p><strong>grav_parameter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – The universal gravitational parameter. Defaults to that of the
Earth, <span class="math notranslate nohighlight">\(3.986004418 \times 10^{14} \ \mathrm{m}^{3} \
\mathrm{s}^{-2}\)</span></p></li>
<li><p><strong>precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – For Newton’s method, the difference between new and old estimates of the universal anomaly
below which the iteration stops and the answer is returned, (default = 1e-8)</p></li>
<li><p><strong>max_iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum number of iterations allowed in while loop (default = 1e5)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The universal anomaly, <span class="math notranslate nohighlight">\(\chi\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Curtis H.D. 2010, Orbital Mechanics for Engineering Students, 3rd Ed., Elsevier</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.lagrange_coefficients_from_universal_anomaly">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">lagrange_coefficients_from_universal_anomaly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o_state_vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grav_parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">398600441800000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#lagrange_coefficients_from_universal_anomaly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.lagrange_coefficients_from_universal_anomaly" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the Lagrangian coefficients, f and g, and their time derivatives, by way of the
universal anomaly and the Stumpff functions <a class="footnote-reference brackets" href="#id4" id="id3">2</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o_state_vector</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><em>StateVector</em></a>) – The (Cartesian) orbital state vector,
<span class="math notranslate nohighlight">\([r_x, r_y, r_z, \dot{r}_x, \dot{r}_y, \dot{r}_z]^T\)</span></p></li>
<li><p><strong>delta_t</strong> (<em>timedelta</em>) – The time interval over which to calculate</p></li>
<li><p><strong>grav_parameter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – The universal gravitational parameter. Defaults to that of the
Earth, <span class="math notranslate nohighlight">\(3.986004418 \times 10^{14} \ \mathrm{m}^{3} \
\mathrm{s}^{-2}\)</span>. Note that the units of time must be seconds.</p></li>
<li><p><strong>precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Precision to which to calculate the <code class="xref py py-meth docutils literal notranslate"><span class="pre">universal</span> <span class="pre">anomaly()</span></code> (default = 1e-8). See the doc
section for that function</p></li>
<li><p><strong>max_iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum number of iterations in determining universal anomaly (default = 1e5)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The Lagrange coefficients, <span class="math notranslate nohighlight">\(f, g, \dot{f}, \dot{g}\)</span>, in that order.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>Bond V.R., Allman M.C. 1996, Modern Astrodynamics: Fundamentals and Perturbation
Methods, Princeton University Press</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.eccentric_anomaly_from_mean_anomaly">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">eccentric_anomaly_from_mean_anomaly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean_anomaly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eccentricity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#eccentric_anomaly_from_mean_anomaly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.eccentric_anomaly_from_mean_anomaly" title="Permalink to this definition"></a></dt>
<dd><p>Approximately solve the transcendental equation <span class="math notranslate nohighlight">\(E - e sin E = M_e\)</span> for E. This is
an iterative process using Newton’s method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean_anomaly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Current mean anomaly</p></li>
<li><p><strong>eccentricity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbital eccentricity</p></li>
<li><p><strong>precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Precision used for the stopping point in determining eccentric anomaly from mean anomaly,
(default = 1e-8)</p></li>
<li><p><strong>max_iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum number of iterations for the while loop, (default = 1e5)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Eccentric anomaly of the orbit</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.tru_anom_from_mean_anom">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">tru_anom_from_mean_anom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean_anomaly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eccentricity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#tru_anom_from_mean_anom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.tru_anom_from_mean_anom" title="Permalink to this definition"></a></dt>
<dd><p>Get the true anomaly from the mean anomaly via the eccentric anomaly</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean_anomaly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The mean anomaly</p></li>
<li><p><strong>eccentricity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Eccentricity</p></li>
<li><p><strong>precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Precision used for the stopping point in determining eccentric anomaly from mean anomaly,
(default = 1e-8)</p></li>
<li><p><strong>max_iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum number of iterations in determining eccentric anomaly, (default = 1e5)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True anomaly</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.perifocal_position">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">perifocal_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eccentricity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semimajor_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_anomaly</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#perifocal_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.perifocal_position" title="Permalink to this definition"></a></dt>
<dd><p>The position vector in perifocal coordinates calculated from the Keplerian elements</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eccentricity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbit eccentricity</p></li>
<li><p><strong>semimajor_axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbit semi-major axis</p></li>
<li><p><strong>true_anomaly</strong> – Orbit true anomaly</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\([r_x, r_y, r_z]\)</span> position in perifocal coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.perifocal_velocity">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">perifocal_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eccentricity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semimajor_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_anomaly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grav_parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">398600441800000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#perifocal_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.perifocal_velocity" title="Permalink to this definition"></a></dt>
<dd><p>The velocity vector in perifocal coordinates calculated from the Keplerian elements</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eccentricity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbit eccentricity</p></li>
<li><p><strong>semimajor_axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbit semi-major axis</p></li>
<li><p><strong>true_anomaly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbit true anomaly</p></li>
<li><p><strong>grav_parameter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Standard gravitational parameter <span class="math notranslate nohighlight">\(\mu = G M\)</span>. Default is
<span class="math notranslate nohighlight">\(3.986004418 \times 10^{14} \mathrm{m}^3 \mathrm{s}^{-2}\)</span></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\([\dot{r}_x, \dot{r}_y, \dot{r}_z]\)</span> velocity in perifocal coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.narray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.perifocal_to_geocentric_matrix">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">perifocal_to_geocentric_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inclination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#perifocal_to_geocentric_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.perifocal_to_geocentric_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Return the matrix which transforms from perifocal to geocentric coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inclination</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbital inclination</p></li>
<li><p><strong>raan</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Orbit Right Ascension of the ascending node</p></li>
<li><p><strong>argp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The orbit’s argument of periapsis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <span class="math notranslate nohighlight">\(3 \times 3\)</span> array that transforms from perifocal coordinates to geocentric
coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.keplerian_to_rv">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">keplerian_to_rv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grav_parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">398600441800000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#keplerian_to_rv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.keplerian_to_rv" title="Permalink to this definition"></a></dt>
<dd><p>Convert the Keplerian orbital elements to position, velocity state vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_vector</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>) – <p>The Keplerian orbital state vector is defined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}X = [e, a, i, \Omega, \omega, \theta]^{T} \\\end{split}\]</div>
<p>where:
<span class="math notranslate nohighlight">\(e\)</span> is the orbital eccentricity (unitless),
<span class="math notranslate nohighlight">\(a\)</span> the semi-major axis (m),
<span class="math notranslate nohighlight">\(i\)</span> the inclination (rad),
<span class="math notranslate nohighlight">\(\Omega\)</span> is the longitude of the ascending node (rad),
<span class="math notranslate nohighlight">\(\omega\)</span> the argument of periapsis (rad), and
<span class="math notranslate nohighlight">\(\theta\)</span> the true anomaly (rad)</p>
</p></li>
<li><p><strong>grav_parameter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Standard gravitational parameter <span class="math notranslate nohighlight">\(\mu = G M\)</span>. The default is <span class="math notranslate nohighlight">\(3.986004418
\times 10^{14} \mathrm{m}^3 \mathrm{s}^{-2}\)</span></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Orbital state vector as <span class="math notranslate nohighlight">\([r_x, r_y, r_z, \dot{r}_x, \dot{r}_y, \dot{r}_z]\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a></p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>No checking undertaken. Assumes Keplerian elements rendered correctly as above</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.mod_inclination">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">mod_inclination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#mod_inclination"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.mod_inclination" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the modulus of an inclination. Inclination angles are within the range <span class="math notranslate nohighlight">\(0\)</span>
to <span class="math notranslate nohighlight">\(\pi\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – inclination angle in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Angle in radians in the range <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(+\pi\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="smartfusion.functions.orbital.mod_elongitude">
<span class="sig-prename descclassname"><span class="pre">smartfusion.functions.orbital.</span></span><span class="sig-name descname"><span class="pre">mod_elongitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/functions/orbital.html#mod_elongitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.functions.orbital.mod_elongitude" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the modulus of an ecliptic longitude in which angles are within the range
<span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(2 \pi\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – longitudinal angle in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Angle in radians in the range <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(+2 \pi\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="smartfusion.config.html" class="btn btn-neutral float-left" title="Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="smartfusion.measures.html" class="btn btn-neutral float-right" title="Measures" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="copyright.html">Copyright</a> 2017-2022 SMART FUSION contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>