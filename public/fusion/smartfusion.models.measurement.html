<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Measurement Models &mdash; SMART FUSION 0.1b11.dev6+g9121db30.d20220926 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Transition Models" href="smartfusion.models.transition.html" />
    <link rel="prev" title="Control Models" href="smartfusion.models.control.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SMART FUSION
            <img src="_static/smart_fusion_logo.jpeg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1b11.dev6+g9121db30.d20220926
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design.html">Framework </a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="smartfusion.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="interface.html">Component Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Base Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.base.html">Declarative Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.config.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.measures.html">Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.plotter.html">Plotter</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.serialise.html">Serialisation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="smartfusion.html#components">Components</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="smartfusion.html#enabling-components">Enabling Components</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="smartfusion.html#algorithm-components">Algorithm Components</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="smartfusion.dataassociator.html">Data Association</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.deleter.html">Deleters</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.gater.html">Gater</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.hypothesiser.html">Hypothesiser</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.initiator.html">Initiators</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.mixturereducer.html">Mixture Reducers</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="smartfusion.models.html">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.predictor.html">Predictors</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.resampler.html">Resampler</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.smoother.html">Smoothers</a></li>
<li class="toctree-l4"><a class="reference internal" href="smartfusion.updater.html">Updaters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="smartfusion.html#data-types">Data Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_demos/index.html">Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">Copyright &amp; License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SMART FUSION</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="smartfusion.html">Documentation</a> &raquo;</li>
          <li><a href="smartfusion.models.html">Models</a> &raquo;</li>
      <li>Measurement Models</li>
  
  <li class="wy-breadcrumbs-aside">
    <a href="https://github.com/claycurry34/Smart-Fusion/blob/main/docs/source/smartfusion.models.measurement.rst" class="fa fa-github"> Edit on GitHub</a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-smartfusion.models.measurement">
<span id="measurement-models"></span><h1>Measurement Models<a class="headerlink" href="#module-smartfusion.models.measurement" title="Permalink to this heading"></a></h1>
<span class="target" id="module-smartfusion.models.measurement.base"></span><dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.base.MeasurementModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.base.</span></span><span class="sig-name descname"><span class="pre">MeasurementModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/base.html#MeasurementModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.base.MeasurementModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model" title="smartfusion.models.base.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Measurement Model base class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.base.MeasurementModel.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.base.MeasurementModel.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.base.MeasurementModel.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.base.MeasurementModel.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.base.MeasurementModel.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.base.MeasurementModel.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.base.MeasurementModel.ndim_meas">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.base.MeasurementModel.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>Number of measurement dimensions</p>
</dd></dl>

</dd></dl>

<section id="module-smartfusion.models.measurement.linear">
<span id="linear"></span><h2>Linear<a class="headerlink" href="#module-smartfusion.models.measurement.linear" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.linear.</span></span><span class="sig-name descname"><span class="pre">LinearGaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/linear.html#LinearGaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.base.MeasurementModel" title="smartfusion.models.measurement.base.MeasurementModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MeasurementModel</span></code></a>, <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.LinearModel" title="smartfusion.models.base.LinearModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearModel</span></code></a>, <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.GaussianModel" title="smartfusion.models.base.GaussianModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianModel</span></code></a></p>
<p>This is a class implementation of a time-invariant 1D
Linear-Gaussian Measurement Model.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[y_t = H_k*x_t + v_k,\ \ \ \   v(k)\sim \mathcal{N}(0,R)\]</div>
<p>where <code class="docutils literal notranslate"><span class="pre">H_k</span></code> is a (<a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_meas" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_state" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>) matrix and <code class="docutils literal notranslate"><span class="pre">v_k</span></code> is Gaussian distributed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.matrix">
<span class="sig-name descname"><span class="pre">matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/linear.html#LinearGaussian.matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.matrix" title="Permalink to this definition"></a></dt>
<dd><p>Model matrix <span class="math notranslate nohighlight">\(H(t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The model matrix evaluated given the provided time interval.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape         (<a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_meas" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_state" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/linear.html#LinearGaussian.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(t,x(t),w(t))\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is added)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_meas" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/linear.html#LinearGaussian.covar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_meas" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_meas" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_meas" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_state" title="smartfusion.models.measurement.linear.LinearGaussian.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.function" title="smartfusion.models.measurement.linear.LinearGaussian.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.covar" title="smartfusion.models.measurement.linear.LinearGaussian.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.covar" title="smartfusion.models.measurement.linear.LinearGaussian.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.linear.LinearGaussian.ndim" title="smartfusion.models.measurement.linear.LinearGaussian.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.linear.LinearGaussian.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.linear.LinearGaussian.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-smartfusion.models.measurement.nonlinear">
<span id="nonlinear"></span><h2>NonLinear<a class="headerlink" href="#module-smartfusion.models.measurement.nonlinear" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">CombinedReversibleGaussianMeasurementModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.GaussianModel" title="smartfusion.models.base.GaussianModel"><span class="pre">GaussianModel</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CombinedReversibleGaussianMeasurementModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.ReversibleModel" title="smartfusion.models.base.ReversibleModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReversibleModel</span></code></a>, <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.GaussianModel" title="smartfusion.models.base.GaussianModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianModel</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.base.MeasurementModel" title="smartfusion.models.measurement.base.MeasurementModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MeasurementModel</span></code></a></p>
<p>Combine multiple models into a single model by stacking them.</p>
<p>The assumption is that all models are Gaussian, and must be combination of
<a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.LinearModel" title="smartfusion.models.base.LinearModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearModel</span></code></a> and <code class="xref py py-class docutils literal notranslate"><span class="pre">NonLinearModel</span></code> models. They must all
expect the same dimension state vector (i.e. have the same
<a class="reference internal" href="#smartfusion.models.measurement.base.MeasurementModel.ndim_state" title="smartfusion.models.measurement.base.MeasurementModel.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>), using model mapping as appropriate.</p>
<p>This also implements the <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.inverse_function" title="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.inverse_function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inverse_function()</span></code></a>, but will raise a
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.10)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a> if any model isn’t either a
<a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.LinearModel" title="smartfusion.models.base.LinearModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearModel</span></code></a> or <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.ReversibleModel" title="smartfusion.models.base.ReversibleModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReversibleModel</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_list</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[GaussianModel]</span></code>) – List of Measurement Models.</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.model_list">
<span class="sig-name descname"><span class="pre">model_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.GaussianModel" title="smartfusion.models.base.GaussianModel"><span class="pre">GaussianModel</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.model_list" title="Permalink to this definition"></a></dt>
<dd><p>List of Measurement Models.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>Number of measurement dimensions</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.mapping">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mapping</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CombinedReversibleGaussianMeasurementModel.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(f_k(x(k),w(k))\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is used)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The StateVector(s) with the model function evaluated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">StateVectors</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.inverse_function">
<span class="sig-name descname"><span class="pre">inverse_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CombinedReversibleGaussianMeasurementModel.inverse_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.inverse_function" title="Permalink to this definition"></a></dt>
<dd><p>Takes in the result of the function and
computes the inverse function, returning the initial
input of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detection</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detection</span></code></a>) – Input state (non-linear format)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The linear co-ordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector">StateVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CombinedReversibleGaussianMeasurementModel.covar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.covar" title="Permalink to this definition"></a></dt>
<dd><p>Model covariance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CombinedReversibleGaussianMeasurementModel.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim" title="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_meas" title="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_state" title="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.function" title="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.covar" title="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CombinedReversibleGaussianMeasurementModel.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">NonLinearGaussianMeasurement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#NonLinearGaussianMeasurement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.base.MeasurementModel" title="smartfusion.models.measurement.base.MeasurementModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MeasurementModel</span></code></a>, <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.GaussianModel" title="smartfusion.models.base.GaussianModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianModel</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>This class combines the MeasurementModel, NonLinearModel and GaussianModel classes. It is not meant to be instantiated directly but subclasses should be derived from this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#NonLinearGaussianMeasurement.covar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rotation_offset" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.function">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(f_k(x(k),w(k))\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is used)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The StateVector(s) with the model function evaluated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">StateVectors</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_state" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>Number of measurement dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.function" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.covar" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.covar" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">CartesianToElevationBearingRange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">NonLinearGaussianMeasurement</span></code></a>, <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.ReversibleModel" title="smartfusion.models.base.ReversibleModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReversibleModel</span></code></a></p>
<p>This is a class implementation of a time-invariant measurement model, where measurements are assumed to be received in the form of bearing (<span class="math notranslate nohighlight">\(\phi\)</span>), elevation (<span class="math notranslate nohighlight">\(\theta\)</span>) and range (<span class="math notranslate nohighlight">\(r\)</span>), with Gaussian noise in each dimension.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[\vec{y}_t = h(\vec{x}_t, \vec{v}_t)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{y}_t\)</span> is a measurement vector of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{y}_t = \begin{bmatrix}
          \theta \\
          \phi \\
          r
      \end{bmatrix}\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(h\)</span> is a non-linear model function of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}h(\vec{x}_t,\vec{v}_t) = \begin{bmatrix}
          asin(\mathcal{z}/\sqrt{\mathcal{x}^2 + \mathcal{y}^2 +\mathcal{z}^2}) \\
          atan2(\mathcal{y},\mathcal{x}) \\
          \sqrt{\mathcal{x}^2 + \mathcal{y}^2 + \mathcal{z}^2}
          \end{bmatrix} + \vec{v}_t\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{v}_t\)</span> is Gaussian distributed with covariance <span class="math notranslate nohighlight">\(R\)</span>, i.e.:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\vec{v}_t \sim \mathcal{N}(0,R)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}R = \begin{bmatrix}
      \sigma_{\theta}^2 &amp; 0 &amp; 0 \\
      0 &amp; \sigma_{\phi}^2 &amp; 0 \\
      0 &amp; 0 &amp; \sigma_{r}^2
      \end{bmatrix}\end{split}\]</div>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.mapping" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping</span></code></a> property of the model is a 3 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[0]</span></code>), second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[1]</span></code>) and third (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[2]</span></code>) elements contain the state index of the <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>  coordinates, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current implementation of this class assumes a 3D Cartesian plane.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
<li><p><strong>translation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the Cartesian origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.translation_offset">
<span class="sig-name descname"><span class="pre">translation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.translation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the Cartesian origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRange.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(\vec{x}_t,\vec{v}_t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is added)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.inverse_function">
<span class="sig-name descname"><span class="pre">inverse_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRange.inverse_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.inverse_function" title="Permalink to this definition"></a></dt>
<dd><p>Takes in the result of the function and
computes the inverse function, returning the initial
input of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detection</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detection</span></code></a>) – Input state (non-linear format)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The linear co-ordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector">StateVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRange.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.covar" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.function" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.covar" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rotation_offset" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRange.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">CartesianToBearingRange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToBearingRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">NonLinearGaussianMeasurement</span></code></a>, <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.ReversibleModel" title="smartfusion.models.base.ReversibleModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReversibleModel</span></code></a></p>
<p>This is a class implementation of a time-invariant measurement model, where measurements are assumed to be received in the form of bearing (<span class="math notranslate nohighlight">\(\phi\)</span>) and range (<span class="math notranslate nohighlight">\(r\)</span>), with Gaussian noise in each dimension.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[\vec{y}_t = h(\vec{x}_t, \vec{v}_t)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{y}_t\)</span> is a measurement vector of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{y}_t = \begin{bmatrix}
          \phi \\
          r
      \end{bmatrix}\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(h\)</span> is a non-linear model function of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}h(\vec{x}_t,\vec{v}_t) = \begin{bmatrix}
          atan2(\mathcal{y},\mathcal{x}) \\
          \sqrt{\mathcal{x}^2 + \mathcal{y}^2}
          \end{bmatrix} + \vec{v}_t\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{v}_t\)</span> is Gaussian distributed with covariance <span class="math notranslate nohighlight">\(R\)</span>, i.e.:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\vec{v}_t \sim \mathcal{N}(0,R)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}R = \begin{bmatrix}
      \sigma_{\phi}^2 &amp; 0 \\
      0 &amp; \sigma_{r}^2
      \end{bmatrix}\end{split}\]</div>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.mapping" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping</span></code></a> property of the model is a 2 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[0]</span></code>) and second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[1]</span></code>) elements contain the state index of the <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> coordinates, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current implementation of this class assumes a 2D Cartesian plane.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
<li><p><strong>translation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 2x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y\)</span> coordinates.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.translation_offset">
<span class="sig-name descname"><span class="pre">translation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.translation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 2x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y\)</span> coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.inverse_function">
<span class="sig-name descname"><span class="pre">inverse_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToBearingRange.inverse_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.inverse_function" title="Permalink to this definition"></a></dt>
<dd><p>Takes in the result of the function and
computes the inverse function, returning the initial
input of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detection</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detection</span></code></a>) – Input state (non-linear format)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The linear co-ordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector">StateVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToBearingRange.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(\vec{x}_t,\vec{v}_t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is added)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToBearingRange.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.covar" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.covar" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rotation_offset" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRange.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRange.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">CartesianToElevationBearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">NonLinearGaussianMeasurement</span></code></a></p>
<p>This is a class implementation of a time-invariant measurement model, where measurements are assumed to be received in the form of bearing (<span class="math notranslate nohighlight">\(\phi\)</span>) and elevation (<span class="math notranslate nohighlight">\(\theta\)</span>) and with Gaussian noise in each dimension.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[\vec{y}_t = h(\vec{x}_t, \vec{v}_t)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{y}_t\)</span> is a measurement vector of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{y}_t = \begin{bmatrix}
          \theta \\
          \phi
      \end{bmatrix}\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(h\)</span> is a non-linear model function of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}h(\vec{x}_t,\vec{v}_t) = \begin{bmatrix}
          asin(\mathcal{z}/\sqrt{\mathcal{x}^2 + \mathcal{y}^2 +\mathcal{z}^2}) \\
          atan2(\mathcal{y},\mathcal{x}) \\
          \end{bmatrix} + \vec{v}_t\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{v}_t\)</span> is Gaussian distributed with covariance <span class="math notranslate nohighlight">\(R\)</span>, i.e.:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\vec{v}_t \sim \mathcal{N}(0,R)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}R = \begin{bmatrix}
      \sigma_{\theta}^2 &amp; 0 \\
      0 &amp; \sigma_{\phi}^2\\
      \end{bmatrix}\end{split}\]</div>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.mapping" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping</span></code></a> property of the model is a 3 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[0]</span></code>), second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[1]</span></code>) and third (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[2]</span></code>) elements  contain the state index of the <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>  coordinates, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current implementation of this class assumes a 3D Cartesian plane.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
<li><p><strong>translation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.translation_offset">
<span class="sig-name descname"><span class="pre">translation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.translation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearing.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(\vec{x}_t,\vec{v}_t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is added)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearing.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.covar" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.function" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.covar" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rotation_offset" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearing.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">Cartesian2DToBearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#Cartesian2DToBearing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">NonLinearGaussianMeasurement</span></code></a></p>
<p>This is a class implementation of a time-invariant measurement model, where measurements are assumed to be received in the form of bearing (<span class="math notranslate nohighlight">\(\phi\)</span>) with Gaussian noise.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[\phi_t = h(\vec{x}_t, v_t)\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(h\)</span> is a non-linear model function of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[h(\vec{x}_t,v_t) = atan2(\mathcal{y},\mathcal{x}) + v_t\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(v_t\)</span> is Gaussian distributed with covariance <span class="math notranslate nohighlight">\(R\)</span>, i.e.:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,\sigma_{\phi}^2)\]</div>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.mapping" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping</span></code></a> property of the model is a 2 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[0]</span></code>) and second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[1]</span></code>) elements contain the state index of the <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> coordinates, respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
<li><p><strong>translation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 2x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y\)</span> coordinates.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.translation_offset">
<span class="sig-name descname"><span class="pre">translation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.translation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 2x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y\)</span> coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#Cartesian2DToBearing.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(\vec{x}_t,v_t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is <cite>False</cite>, in
which case no noise will be added.
If ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is added)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_state" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#Cartesian2DToBearing.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.covar" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_state" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.function" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.covar" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rotation_offset" title="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.Cartesian2DToBearing.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">CartesianToBearingRangeRate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(1,</span> <span class="pre">3,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToBearingRangeRate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">NonLinearGaussianMeasurement</span></code></a></p>
<p>This is a class implementation of a time-invariant measurement model, where measurements are assumed to be received in the form of bearing (<span class="math notranslate nohighlight">\(\phi\)</span>), range (<span class="math notranslate nohighlight">\(r\)</span>) and range-rate (<span class="math notranslate nohighlight">\(\dot{r}\)</span>),
with Gaussian noise in each dimension.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[\vec{y}_t = h(\vec{x}_t, \vec{v}_t)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{y}_t\)</span> is a measurement vector of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{y}_t = \begin{bmatrix}
          \phi \\
          r \\
          \dot{r}
      \end{bmatrix}\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(h\)</span> is a non-linear model function of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}h(\vec{x}_t,\vec{v}_t) = \begin{bmatrix}
          atan2(\mathcal{y},\mathcal{x}) \\
          \sqrt{\mathcal{x}^2 + \mathcal{y}^2} \\
          (x\dot{x} + y\dot{y})/\sqrt{x^2 + y^2}
          \end{bmatrix} + \vec{v}_t\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{v}_t\)</span> is Gaussian distributed with covariance
<span class="math notranslate nohighlight">\(R\)</span>, i.e.:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\vec{v}_t \sim \mathcal{N}(0,R)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}R = \begin{bmatrix}
      \sigma_{\phi}^2 &amp; 0 &amp; 0\\
      0 &amp; \sigma_{r}^2 &amp; 0 \\
      0 &amp; 0 &amp; \sigma_{\dot{r}}^2
      \end{bmatrix}\end{split}\]</div>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.mapping" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping</span></code></a> property of the model is a 3 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[0]</span></code>), second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[1]</span></code>) and third (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[2]</span></code>) elements contain the state index of the <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>  coordinates, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class implementation assuming at 3D cartesian space, it therefore expects a 6D state space.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
<li><p><strong>translation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y\)</span> coordinates.</p></li>
<li><p><strong>velocity_mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple[int,</span> <span class="pre">int,</span> <span class="pre">int]</span></code>, optional) – Mapping to the targets velocity within its state space</p></li>
<li><p><strong>velocity</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the sensor velocity in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.velocity_mapping">
<span class="sig-name descname"><span class="pre">velocity_mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.velocity_mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping to the targets velocity within its state space</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.translation_offset">
<span class="sig-name descname"><span class="pre">translation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.translation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y\)</span> coordinates.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.velocity">
<span class="sig-name descname"><span class="pre">velocity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.velocity" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the sensor velocity in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToBearingRangeRate.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(\vec{x}_t,\vec{v}_t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is added)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToBearingRangeRate.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.covar" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.function" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.covar" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rotation_offset" title="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToBearingRangeRate.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">CartesianToElevationBearingRangeRate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(1,</span> <span class="pre">3,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRangeRate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement" title="smartfusion.models.measurement.nonlinear.NonLinearGaussianMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">NonLinearGaussianMeasurement</span></code></a>, <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.ReversibleModel" title="smartfusion.models.base.ReversibleModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReversibleModel</span></code></a></p>
<p>This is a class implementation of a time-invariant measurement model, where measurements are assumed to be received in the form of elevation (<span class="math notranslate nohighlight">\(\theta\)</span>),  bearing (<span class="math notranslate nohighlight">\(\phi\)</span>), range (<span class="math notranslate nohighlight">\(r\)</span>) and
range-rate (<span class="math notranslate nohighlight">\(\dot{r}\)</span>), with Gaussian noise in each dimension.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[\vec{y}_t = h(\vec{x}_t, \vec{v}_t)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{y}_t\)</span> is a measurement vector of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{y}_t = \begin{bmatrix}
          \theta \\
          \phi \\
          r \\
          \dot{r}
      \end{bmatrix}\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(h\)</span> is a non-linear model function of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}h(\vec{x}_t,\vec{v}_t) = \begin{bmatrix}
          asin(\mathcal{z}/\sqrt{\mathcal{x}^2 + \mathcal{y}^2 +\mathcal{z}^2}) \\
          atan2(\mathcal{y},\mathcal{x}) \\
          \sqrt{\mathcal{x}^2 + \mathcal{y}^2 + \mathcal{z}^2} \\
          (x\dot{x} + y\dot{y} + z\dot{z})/\sqrt{x^2 + y^2 + z^2}
          \end{bmatrix} + \vec{v}_t\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{v}_t\)</span> is Gaussian distributed with covariance <span class="math notranslate nohighlight">\(R\)</span>, i.e.:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\vec{v}_t \sim \mathcal{N}(0,R)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}R = \begin{bmatrix}
      \sigma_{\theta}^2 &amp; 0 &amp; 0 &amp; 0\\
      0 &amp; \sigma_{\phi}^2 &amp; 0 &amp; 0\\
      0 &amp; 0 &amp; \sigma_{r}^2 &amp; 0\\
      0 &amp; 0 &amp; 0 &amp; \sigma_{\dot{r}}^2
      \end{bmatrix}\end{split}\]</div>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.mapping" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping</span></code></a> property of the model is a 3 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[0]</span></code>), second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[1]</span></code>) and third (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[2]</span></code>) elements contain the state index of the <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>  coordinates, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class implementation assuming at 3D cartesian space, it therefore expects a 6D state space.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
<li><p><strong>translation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p></li>
<li><p><strong>velocity_mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple[int,</span> <span class="pre">int,</span> <span class="pre">int]</span></code>, optional) – Mapping to the targets velocity within its state space</p></li>
<li><p><strong>velocity</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the sensor velocity in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.velocity_mapping">
<span class="sig-name descname"><span class="pre">velocity_mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.velocity_mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping to the targets velocity within its state space</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.translation_offset">
<span class="sig-name descname"><span class="pre">translation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.translation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.velocity">
<span class="sig-name descname"><span class="pre">velocity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.velocity" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the sensor velocity in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRangeRate.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(\vec{x}_t,\vec{v}_t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>) – An input state vector for the target</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<cite>False</cite>, in which case no noise will be added
if ‘True’, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rvs()</span></code></a> is added)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.inverse_function">
<span class="sig-name descname"><span class="pre">inverse_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRangeRate.inverse_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.inverse_function" title="Permalink to this definition"></a></dt>
<dd><p>Takes in the result of the function and
computes the inverse function, returning the initial
input of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detection</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detection</span></code></a>) – Input state (non-linear format)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The linear co-ordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector">StateVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_state" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><span class="pre">State</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><span class="pre">Probability</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.function" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>
and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.covar" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rotation_offset" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#CartesianToElevationBearingRangeRate.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.covar" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.nonlinear.</span></span><span class="sig-name descname"><span class="pre">RangeRangeRateBinning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndim_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_covar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_rate_res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(1,</span> <span class="pre">3,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#RangeRangeRateBinning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate" title="smartfusion.models.measurement.nonlinear.CartesianToElevationBearingRangeRate"><code class="xref py py-class docutils literal notranslate"><span class="pre">CartesianToElevationBearingRangeRate</span></code></a></p>
<p>This is a class implementation of a time-invariant measurement model, where measurements are assumed to be in the form of elevation (<span class="math notranslate nohighlight">\(\theta\)</span>),  bearing (<span class="math notranslate nohighlight">\(\phi\)</span>), range (<span class="math notranslate nohighlight">\(r\)</span>) and
range-rate (<span class="math notranslate nohighlight">\(\dot{r}\)</span>), with Gaussian noise in each dimension and the
range and range-rate are binned based on the
range resolution and range-rate resolution respectively.</p>
<p>The model is described by the following equations:</p>
<div class="math notranslate nohighlight">
\[\vec{y}_t = h(\vec{x}_t, \vec{v}_t)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{y}_t\)</span> is a measurement vector of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{y}_t = \begin{bmatrix}
          \theta \\
          \phi \\
          r \\
          \dot{r}
      \end{bmatrix}\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(h\)</span> is a non-linear model function of the form:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}h(\vec{x}_t,\vec{v}_t) = \begin{bmatrix}
          \textrm{asin}(\mathcal{z}/\sqrt{\mathcal{x}^2 + \mathcal{y}^2 +\mathcal{z}^2}) \\
          \textrm{atan2}(\mathcal{y},\mathcal{x}) \\
          \sqrt{\mathcal{x}^2 + \mathcal{y}^2 + \mathcal{z}^2} \\
          (x\dot{x} + y\dot{y} + z\dot{z})/\sqrt{x^2 + y^2 + z^2}
          \end{bmatrix} + \vec{v}_t\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{v}_t\)</span> is Gaussian distributed with covariance <span class="math notranslate nohighlight">\(R\)</span>, i.e.:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\vec{v}_t \sim \mathcal{N}(0,R)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}R = \begin{bmatrix}
      \sigma_{\theta}^2 &amp; 0 &amp; 0 &amp; 0\\
      0 &amp; \sigma_{\phi}^2 &amp; 0 &amp; 0\\
      0 &amp; 0 &amp; \sigma_{r}^2 &amp; 0\\
      0 &amp; 0 &amp; 0 &amp; \sigma_{\dot{r}}^2
      \end{bmatrix}\end{split}\]</div>
<p>The covariances for radar are determined by different factors. The angle error
is affected by the radar beam width. Range error is affected by the SNR and pulse bandwidth.
The error for the range rate is dependent on the dwell time.
The range and range rate are binned to the centre of the cell using</p>
<div class="math notranslate nohighlight">
\[x = \textrm{floor}(x/\Delta x)*\Delta x + \frac{\Delta x}{2}\]</div>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.mapping" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping</span></code></a> property of the model is a 3 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[0]</span></code>), second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[1]</span></code>) and third (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">mapping[2]</span></code>) elements contain the state index of the <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>  coordinates, respectively.</p>
<p>The <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.velocity_mapping" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.velocity_mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">velocity_mapping</span></code></a> property of the model is a 3 element vector, whose first (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">velocity_mapping[0]</span></code>), second (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">velocity_mapping[1]</span></code>) and third (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">velocity_mapping[2]</span></code>) elements contain the state index of the <span class="math notranslate nohighlight">\(\dot{x}\)</span>, <span class="math notranslate nohighlight">\(\dot{y}\)</span> and <span class="math notranslate nohighlight">\(\dot{z}\)</span>  coordinates, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class implementation assumes a 3D cartesian space, it therefore expects a 6D state space.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndim_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of state dimensions</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[int]</span></code>) – Mapping between measurement and state dims</p></li>
<li><p><strong>noise_covar</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a>) – Noise covariance</p></li>
<li><p><strong>range_res</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Size of the range bins in m</p></li>
<li><p><strong>range_rate_res</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Size of the velocity bins in m/s</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int]</span></code>, optional) – Seed for random number generation</p></li>
<li><p><strong>rotation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p></li>
<li><p><strong>translation_offset</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p></li>
<li><p><strong>velocity_mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple[int,</span> <span class="pre">int,</span> <span class="pre">int]</span></code>, optional) – Mapping to the targets velocity within its state space</p></li>
<li><p><strong>velocity</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>, optional) – A 3x1 array specifying the sensor velocity in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.covar" title="Permalink to this definition"></a></dt>
<dd><p>Returns the measurement model noise covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The measurement noise covariance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">CovarianceMatrix</span></code></a> of shape        (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>, <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.inverse_function">
<span class="sig-name descname"><span class="pre">inverse_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.inverse_function" title="Permalink to this definition"></a></dt>
<dd><p>Takes in the result of the function and
computes the inverse function, returning the initial
input of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detection</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.detection.Detection" title="smartfusion.types.detection.Detection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detection</span></code></a>) – Input state (non-linear format)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The linear co-ordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector">StateVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_state" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.mapping">
<span class="sig-name descname"><span class="pre">mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping between measurement and state dims</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_state">
<span class="sig-name descname"><span class="pre">ndim_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.noise_covar">
<span class="sig-name descname"><span class="pre">noise_covar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.CovarianceMatrix" title="smartfusion.types.array.CovarianceMatrix"><span class="pre">CovarianceMatrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.noise_covar" title="Permalink to this definition"></a></dt>
<dd><p>Noise covariance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rotation_matrix">
<span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>3D axis rotation matrix</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be cached until
<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rotation_offset" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rotation_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rotation_offset</span></code></a> is replaced.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rotation_offset">
<span class="sig-name descname"><span class="pre">rotation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rotation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array of angles (rad), specifying the clockwise rotation around each Cartesian axis in the order <span class="math notranslate nohighlight">\(x,y,z\)</span>. The rotation angles are positive if the rotation is in the counter-clockwise direction when viewed by an observer looking along the respective rotation axis, towards the origin.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVectors" title="smartfusion.types.array.StateVectors"><span class="pre">StateVectors</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<p>In mathematical terms, this can be written as:</p>
<div class="math notranslate nohighlight">
\[v_t \sim \mathcal{N}(0,Q)\]</div>
<p>where <span class="math notranslate nohighlight">\(v_t =\)</span> <code class="docutils literal notranslate"><span class="pre">noise</span></code> and <span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.covar" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random number generation</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.translation_offset">
<span class="sig-name descname"><span class="pre">translation_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.translation_offset" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the origin offset in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.velocity">
<span class="sig-name descname"><span class="pre">velocity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><span class="pre">StateVector</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.velocity" title="Permalink to this definition"></a></dt>
<dd><p>A 3x1 array specifying the sensor velocity in terms of <span class="math notranslate nohighlight">\(x,y,z\)</span> coordinates.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.velocity_mapping">
<span class="sig-name descname"><span class="pre">velocity_mapping</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.velocity_mapping" title="Permalink to this definition"></a></dt>
<dd><p>Mapping to the targets velocity within its state space</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.range_res">
<span class="sig-name descname"><span class="pre">range_res</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.range_res" title="Permalink to this definition"></a></dt>
<dd><p>Size of the range bins in m</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.range_rate_res">
<span class="sig-name descname"><span class="pre">range_rate_res</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.range_rate_res" title="Permalink to this definition"></a></dt>
<dd><p>Size of the velocity bins in m/s</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>ndim_meas getter method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of measurement dimensions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#RangeRangeRateBinning.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.function" title="Permalink to this definition"></a></dt>
<dd><p>Model function <span class="math notranslate nohighlight">\(h(\vec{x}_t,\vec{v}_t)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code></a>) – An input state vector for the target</p></li>
<li><p><strong>noise</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or bool) – An externally generated random process noise sample (the default is
<code class="docutils literal notranslate"><span class="pre">False</span></code>, in which case no noise will be added and no binning takes place
if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the output of <a class="reference internal" href="smartfusion.models.html#smartfusion.models.base.Model.rvs" title="smartfusion.models.base.Model.rvs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rvs</span></code></a> is added and the
range and range rate are binned)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model function evaluated given the provided time interval.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_state" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/nonlinear.html#RangeRangeRateBinning.pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.function" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<p>For the first 2 dimensions, this can be written as:</p>
<div class="math notranslate nohighlight">
\[p = p(y_t | x_t) = \mathcal{N}(y_t; x_t, Q)\]</div>
<dl class="simple">
<dt>where <span class="math notranslate nohighlight">\(y_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector1</span></code>, <span class="math notranslate nohighlight">\(x_t\)</span> = <code class="docutils literal notranslate"><span class="pre">state_vector2</span></code>,</dt><dd><p><span class="math notranslate nohighlight">\(Q\)</span> = <a class="reference internal" href="#smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.covar" title="smartfusion.models.measurement.nonlinear.RangeRangeRateBinning.covar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covar</span></code></a> and <span class="math notranslate nohighlight">\(\mathcal{N}\)</span> is a normal distribution</p>
</dd>
</dl>
<p>The probability for the binned dimensions, the last 2, can be written as:</p>
<div class="math notranslate nohighlight">
\[p = P(a \leq \mathcal{N} \leq b)\]</div>
<p>In this equation a and b are the edges of the bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-smartfusion.models.measurement.categorical">
<span id="categorical"></span><h2>Categorical<a class="headerlink" href="#module-smartfusion.models.measurement.categorical" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smartfusion.models.measurement.categorical.</span></span><span class="sig-name descname"><span class="pre">MarkovianMeasurementModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emission_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix"><span class="pre">Matrix</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">measurement_categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/categorical.html#MarkovianMeasurementModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#smartfusion.models.measurement.base.MeasurementModel" title="smartfusion.models.measurement.base.MeasurementModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MeasurementModel</span></code></a></p>
<p>The measurement model for categorical states</p>
<p>This is a time invariant, measurement model of a hidden Markov process.</p>
<p>A measurement can take one of a finite number of observable categories
<span class="math notranslate nohighlight">\(Z = \{\zeta^n|n\in \mathbf{N}, n\le N\}\)</span> (for some finite <span class="math notranslate nohighlight">\(N\)</span>). A measurement
vector represents a categorical distribution over <span class="math notranslate nohighlight">\(Z\)</span>.</p>
<div class="math notranslate nohighlight">
\[\mathbf{y}_t^i = P(\zeta_t^i)\]</div>
<p>A state space vector takes the form <span class="math notranslate nohighlight">\(\alpha_t^i = P(\phi_t^i)\)</span>, representing a
categorical distribution over a discrete, finite set of possible categories
<span class="math notranslate nohighlight">\(\Phi = \{\phi^m|m\in \mathbf{N}, m\le M\}\)</span> (for some finite <span class="math notranslate nohighlight">\(M\)</span>).</p>
<p>It is assumed that a measurement is independent of everything but the true state of a target.</p>
<p>Intended to be used in conjunction with the <a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalState</span></code></a> type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emission_matrix</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Matrix of emission/output probabilities <span class="math notranslate nohighlight">\(E_t^{ij} = E^{ij} = P(\zeta_t^i | \phi_t^j)\)</span>, determining the conditional probability that a measurement is category <span class="math notranslate nohighlight">\(\zeta^i\)</span> at ‘time’ <span class="math notranslate nohighlight">\(t\)</span> given that the true state category is <span class="math notranslate nohighlight">\(\phi^j\)</span> at ‘time’ <span class="math notranslate nohighlight">\(t\)</span>. Columns will be normalised.</p></li>
<li><p><strong>measurement_categories</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[str]</span></code>, optional) – Sequence of measurement category names. Defaults to a list of integers</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.emission_matrix">
<span class="sig-name descname"><span class="pre">emission_matrix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.Matrix" title="smartfusion.types.array.Matrix"><span class="pre">Matrix</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.emission_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Matrix of emission/output probabilities <span class="math notranslate nohighlight">\(E_t^{ij} = E^{ij} = P(\zeta_t^i | \phi_t^j)\)</span>, determining the conditional probability that a measurement is category <span class="math notranslate nohighlight">\(\zeta^i\)</span> at ‘time’ <span class="math notranslate nohighlight">\(t\)</span> given that the true state category is <span class="math notranslate nohighlight">\(\phi^j\)</span> at ‘time’ <span class="math notranslate nohighlight">\(t\)</span>. Columns will be normalised.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.measurement_categories">
<span class="sig-name descname"><span class="pre">measurement_categories</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.measurement_categories" title="Permalink to this definition"></a></dt>
<dd><p>Sequence of measurement category names. Defaults to a list of integers</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.function">
<span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/categorical.html#MarkovianMeasurementModel.function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.function" title="Permalink to this definition"></a></dt>
<dd><p>Applies the linear transformation:</p>
<div class="math notranslate nohighlight">
\[E^{ij}\alpha_{t-1}^j = P(\zeta_t^i|\phi_t^j)P(\phi_t^j)\]</div>
<p>The resultant vector is normalised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.CategoricalState" title="smartfusion.types.state.CategoricalState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalState</span></code></a>) – The state to be measured.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>state_vector</strong> – of shape (<code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas,</span> <span class="pre">1</span></code>). The resultant measurement vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.array.StateVector" title="smartfusion.types.array.StateVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">smartfusion.types.array.StateVector</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_state</span></span><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_state" title="Permalink to this definition"></a></dt>
<dd><p>Number of state dimensions</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_meas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim_meas</span></span><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_meas" title="Permalink to this definition"></a></dt>
<dd><p>Number of measurement dimensions</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.mapping">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mapping</span></span><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.mapping" title="Permalink to this definition"></a></dt>
<dd><p>Assumes that all elements of the state space are considered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.jacobian">
<span class="sig-name descname"><span class="pre">jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.jacobian" title="Permalink to this definition"></a></dt>
<dd><p>Model jacobian matrix <span class="math notranslate nohighlight">\(H_{jac}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>) – An input state</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The model jacobian matrix evaluated around the given state vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of shape (<a class="reference internal" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_meas" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_meas"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_meas</span></code></a>,         <a class="reference internal" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_state" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim_state</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim" title="Permalink to this definition"></a></dt>
<dd><p>Number of dimensions of model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.rvs">
<span class="sig-name descname"><span class="pre">rvs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/categorical.html#MarkovianMeasurementModel.rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.rvs" title="Permalink to this definition"></a></dt>
<dd><p>Model noise/sample generation function</p>
<p>Generates noise samples from the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_samples</strong> (<em>scalar</em><em>, </em><em>optional</em>) – The number of samples to be generated (the default is 1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noise</strong> – A set of Np samples, generated from the model’s noise
distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-D array of shape (<a class="reference internal" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.ndim"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ndim</span></code></a>, <code class="docutils literal notranslate"><span class="pre">num_samples</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartfusion/models/measurement/categorical.html#MarkovianMeasurementModel.pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.pdf" title="Permalink to this definition"></a></dt>
<dd><p>Model pdf/likelihood evaluation function</p>
<p>Evaluates the pdf/likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given the state
<code class="docutils literal notranslate"><span class="pre">state2</span></code> which is passed to <a class="reference internal" href="#smartfusion.models.measurement.categorical.MarkovianMeasurementModel.function" title="smartfusion.models.measurement.categorical.MarkovianMeasurementModel.function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">function()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state1</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
<li><p><strong>state2</strong> (<a class="reference internal" href="smartfusion.types.html#smartfusion.types.state.State" title="smartfusion.types.state.State"><em>State</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likelihood of <code class="docutils literal notranslate"><span class="pre">state1</span></code>, given <code class="docutils literal notranslate"><span class="pre">state2</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <a class="reference internal" href="smartfusion.types.html#smartfusion.types.numeric.Probability" title="smartfusion.types.numeric.Probability"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probability</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="smartfusion.models.control.html" class="btn btn-neutral float-left" title="Control Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="smartfusion.models.transition.html" class="btn btn-neutral float-right" title="Transition Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="copyright.html">Copyright</a> 2022 University of Oklahoma.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>